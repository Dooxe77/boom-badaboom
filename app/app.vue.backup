<template>
  <Analytics />
  <div class="min-h-screen bg-gray-50">
    <!-- Header -->
    <header class="relative overflow-hidden">
      <!-- Background avec motif culinaire -->
      <div
        class="absolute inset-0 bg-gradient-to-br from-amber-50 via-orange-50 to-red-50"
      ></div>
      <div class="absolute inset-0 opacity-5">
        <div class="absolute top-10 left-10 text-6xl">üßÅ</div>
        <div class="absolute top-20 right-16 text-4xl">üç∞</div>
        <div class="absolute bottom-16 left-20 text-5xl">ü•ß</div>
        <div class="absolute bottom-10 right-12 text-3xl">üç™</div>
      </div>

      <div class="relative container mx-auto px-4 sm:px-6 py-8">
        <div class="flex items-center justify-between mb-6">
          <!-- Logo et titre -->
          <div class="flex items-center space-x-4">
            <div
              class="w-16 h-16 sm:w-20 sm:h-20 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg flex items-center justify-center p-2"
            >
              <img
                src="/logo.png"
                alt="Logo Boom Badaboom"
                loading="lazy"
                class="w-full h-full object-contain"
                @error="handleImageError"
              />
            </div>
            <div class="hidden sm:block">
              <h1
                class="text-2xl sm:text-3xl font-bold text-gray-800 leading-tight"
              >
                BOOM BADABOOM
              </h1>
              <p class="text-lg text-orange-600 font-medium">
                Chaos en Cuisine
              </p>
            </div>
          </div>

          <!-- Actions -->
          <div class="flex items-center gap-2 sm:gap-3">
            <button
              @click="openGameModeSelection"
              class="bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600 text-white px-3 py-2 sm:px-4 sm:py-2 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 text-xs sm:text-base"
            >
              <span class="hidden sm:inline">üéÆ D√©marrer la partie</span>
              <span class="sm:hidden">üéÆ Jouer</span>
            </button>
            <div
              class="bg-orange-100 text-orange-700 px-2 py-1 sm:px-3 sm:py-1 rounded-full text-xs font-medium border border-orange-200"
            >
              ‚ö†Ô∏è Prototype
            </div>
          </div>
        </div>

        <!-- Titre mobile -->
        <div class="sm:hidden text-center mb-6">
          <h1 class="text-xl font-bold text-gray-800 leading-tight">
            BOOM BADABOOM
          </h1>
          <p class="text-base text-orange-600 font-medium">Chaos en Cuisine</p>
        </div>

        <!-- Infos du jeu dans une carte -->
        <div
          class="bg-gradient-to-br from-white/85 via-orange-50/90 to-amber-50/85 backdrop-blur-md rounded-2xl shadow-xl border border-orange-300/60 p-6 ring-1 ring-orange-100/50"
        >
          <div class="text-center">
            <p class="text-gray-700 text-lg mb-3">
              üé≠ Jeu de cartes √† r√¥les cach√©s o√π les
              <span class="font-semibold text-orange-600">P√¢tissiers</span>
              tentent de r√©ussir le g√¢teau parfait, les
              <span class="font-semibold text-red-500">Farceurs</span> sabotent
              la recette et le
              <span class="font-semibold text-yellow-600">Glouton</span>
              attend le moment parfait pour voler le g√¢teau et remporter la
              victoire !
            </p>

            <div
              class="flex flex-wrap justify-center items-center gap-4 sm:gap-6 text-sm text-gray-600 mb-4"
            >
              <div class="flex items-center space-x-2">
                <span class="text-lg">üë•</span>
                <span>1-2 (Coop√©ratif) ou 3-5 (R√¥les cach√©s)</span>
              </div>
              <div class="flex items-center space-x-2">
                <span class="text-lg">‚è±Ô∏è</span>
                <span>15-20 min</span>
              </div>
              <div class="flex items-center space-x-2">
                <span class="text-lg">üéÇ</span>
                <span>7 ans +</span>
              </div>
            </div>

            <div class="flex flex-wrap justify-center gap-2 text-xs">
              <span class="bg-pink-100 text-pink-700 px-3 py-1 rounded-full"
                >Bluff</span
              >
              <span class="bg-rose-100 text-rose-700 px-3 py-1 rounded-full"
                >Tension</span
              >
              <span class="bg-orange-100 text-orange-700 px-3 py-1 rounded-full"
                >Gourmandise</span
              >
            </div>
          </div>
        </div>

        <!-- Cr√©ateur et √âditeur -->
        <div
          class="flex flex-col sm:flex-row justify-center items-center gap-3 mt-6"
        >
          <div
            class="bg-gradient-to-r from-slate-100 to-gray-100 border border-slate-200 px-4 py-2 rounded-full shadow-sm"
          >
            <div class="flex items-center space-x-2">
              <span class="text-sm text-gray-600">üé® Cr√©√© par</span>
              <span class="text-sm font-semibold text-slate-700"
                >Anthony Ruelle</span
              >
            </div>
          </div>
          <div
            class="bg-gradient-to-r from-amber-50 to-orange-50 border border-amber-200 px-4 py-2 rounded-full shadow-sm"
          >
            <div class="flex items-center space-x-2">
              <span class="text-sm text-gray-600">üìö √âdit√© par</span>
              <span class="text-sm font-semibold text-amber-700"
                >La Ruelle Aux Jeux</span
              >
            </div>
          </div>
        </div>
      </div>
    </header>

    <!-- Navigation -->
    <nav :class="['sticky z-50 bg-white shadow-lg']">
      <div class="container mx-auto px-2 sm:px-4 md:px-6">
        <div class="flex justify-between items-center py-3 md:py-4">
          <!-- Desktop menu -->
          <div class="hidden md:flex justify-center flex-1">
            <div class="flex flex-wrap justify-center gap-2 lg:gap-4 xl:gap-6">
              <a
                v-for="link in navLinks"
                :key="link.id"
                :href="`#${link.id}`"
                class="px-2 py-2 text-sm lg:text-base lg:px-3 xl:px-4 font-medium text-gray-700 hover:text-white hover:bg-red-500 rounded-lg transition-all duration-300 whitespace-nowrap"
                @click="closeMobileMenu"
              >
                {{ link.label }}
              </a>
            </div>
          </div>

          <!-- Mobile menu button -->
          <button
            @click="toggleMobileMenu"
            class="md:hidden relative w-6 h-6 flex flex-col justify-center items-center focus:outline-none"
          >
            <span
              :class="{
                'rotate-45 translate-y-1': isMobileMenuOpen,
                'rotate-0 translate-y-0': !isMobileMenuOpen,
              }"
              class="block w-5 h-0.5 bg-gray-600 transition-all duration-300 ease-out"
            ></span>
            <span
              :class="{
                'opacity-0': isMobileMenuOpen,
                'opacity-100': !isMobileMenuOpen,
              }"
              class="block w-5 h-0.5 bg-gray-600 mt-1 transition-all duration-300 ease-out"
            ></span>
            <span
              :class="{
                '-rotate-45 -translate-y-1': isMobileMenuOpen,
                'rotate-0 translate-y-0': !isMobileMenuOpen,
              }"
              class="block w-5 h-0.5 bg-gray-600 mt-1 transition-all duration-300 ease-out"
            ></span>
          </button>
        </div>

        <!-- Mobile menu -->
        <div
          :class="{
            'max-h-screen opacity-100': isMobileMenuOpen,
            'max-h-0 opacity-0': !isMobileMenuOpen,
          }"
          class="md:hidden overflow-hidden transition-all duration-300 ease-in-out bg-white"
        >
          <div class="py-2 space-y-1">
            <a
              v-for="link in navLinks"
              :key="link.id"
              :href="`#${link.id}`"
              @click="closeMobileMenu"
              class="block px-4 py-3 text-base font-medium text-gray-700 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 border-l-4 border-transparent hover:border-red-500"
            >
              {{ link.label }}
            </a>
          </div>
        </div>
      </div>
    </nav>

    <div class="container mx-auto px-4 sm:px-6 py-8">
      <!-- Concept du Jeu -->
      <section id="concept" class="mb-12">
        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 bg-clip-text text-transparent mb-4"
              >
                Concept du Jeu
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-300 to-pink-300 rounded-full mx-auto"
              ></div>
            </div>

            <!-- Histoire du jeu -->
            <div
              class="bg-gradient-to-br from-orange-50/70 via-pink-50/60 to-amber-50/80 rounded-2xl p-6 border shadow-sm backdrop-blur-sm hover:shadow-md transition-all duration-300 mb-10"
              style="border-color: #ff8c42"
            >
              <div class="flex items-start">
                <span class="text-3xl mr-4">üç∞</span>
                <div class="flex-1">
                  <h5 class="text-xl font-bold mb-2" style="color: #ff8c42">
                    BOOM BADABOOM : CHAOS EN CUISINE
                  </h5>
                  <div class="space-y-3 text-sm" style="color: #d63031">
                    <p>
                      <strong>C'est l'anniversaire de Mamie Madeleine</strong>,
                      la matriarche ador√©e de la famille. Dans sa cuisine
                      l√©gendaire tr√¥ne son four ancestral, un v√©ritable tr√©sor
                      familial transmis de g√©n√©ration en g√©n√©ration. La l√©gende
                      raconte qu'il est
                      <span class="font-bold">capricieux</span> et capable de
                      cr√©er les g√¢teaux les plus d√©licieux... mais aussi les
                      plus <span class="font-bold">explosifs</span> !
                    </p>

                    <p>
                      Le four r√©agit de mani√®re impr√©visible aux variations de
                      temp√©rature : trop de
                      <strong>chaleur</strong> et le g√¢teau gonfle
                      dangereusement, un bon <strong>refroidissement</strong> et
                      il diminue de taille. Mais attention ! Si le g√¢teau
                      devient trop gros, c'est le
                      <strong>BOOM BADABOOM</strong> garanti, et toute la
                      cuisine finira recouverte de p√¢te et de cr√®me ! üéÇüí•
                    </p>

                    <p class="italic">
                      Mais voil√† le probl√®me... Toute la famille s'est r√©unie
                      pour pr√©parer ce g√¢teau d'anniversaire, et
                      <strong>chacun a ses propres motivations secr√®tes</strong>
                      ! Entre les <strong>P√¢tissiers Passionn√©s</strong> qui
                      contr√¥lent minutieusement la temp√©rature pour r√©ussir le
                      g√¢teau parfait, les <strong>Farceurs Fous</strong> qui
                      poussent le four √† fond pour tout faire exploser, et le
                      <strong>Glouton Opportuniste</strong> qui attend le moment
                      parfait pour d√©vorer le g√¢teau... La cuisson promet d'√™tre
                      <span class="font-bold">explosive</span> !
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Les Personnages -->
            <div class="mb-8">
              <div class="text-center mb-8">
                <h3 class="text-2xl font-bold text-gray-800 mb-4">
                  üé≠ Les Personnages
                </h3>
                <p class="text-gray-600 max-w-2xl mx-auto">
                  Trois r√¥les secrets aux objectifs bien diff√©rents... Qui
                  √™tes-vous vraiment ?
                </p>
              </div>

              <div class="grid gap-8 mb-6">
                <!-- Les P√¢tissiers -->
                <div
                  class="bg-gradient-to-br from-green-50/70 via-lime-50/60 to-green-100/80 rounded-2xl p-6 border border-green-200/50 shadow-sm backdrop-blur-sm hover:shadow-md transition-all duration-300"
                  style="border-color: #55a831"
                >
                  <div class="flex flex-col sm:flex-row sm:items-start">
                    <span class="text-3xl mb-3 sm:mb-0 sm:mr-4">üë©‚Äçüç≥</span>
                    <div class="flex-1">
                      <h5 class="text-xl font-bold mb-3" style="color: #55a831">
                        LES P√ÇTISSIERS
                      </h5>
                      <div class="space-y-3">
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #55a831"
                            >Qui :</span
                          >
                          <span class="text-sm block" style="color: #3d7a23"
                            >Les perfectionnistes de la famille, passionn√©s de
                            p√¢tisserie</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #55a831"
                            >Objectif :</span
                          >
                          <span
                            class="text-sm font-medium block"
                            style="color: #3d7a23"
                            >R√©ussir le g√¢teau parfait pour honorer Mamie
                            Madeleine</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #55a831"
                            >Motivation :</span
                          >
                          <span
                            class="text-sm italic block"
                            style="color: #3d7a23"
                            >Pour eux, la p√¢tisserie est un art sacr√©. Ils
                            veulent honorer la tradition familiale et cr√©er un
                            chef-d'≈ìuvre digne du four ancestral. Chaque geste
                            compte !</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Les Farceurs -->
                <div
                  class="bg-gradient-to-br from-red-50/70 via-rose-50/60 to-red-100/80 rounded-2xl p-6 border shadow-sm backdrop-blur-sm hover:shadow-md transition-all duration-300"
                  style="border-color: #ac0b17"
                >
                  <div class="flex flex-col sm:flex-row sm:items-start">
                    <span class="text-3xl mb-3 sm:mb-0 sm:mr-4">ü§°</span>
                    <div class="flex-1">
                      <h5 class="text-xl font-bold mb-3" style="color: #ac0b17">
                        LES FARCEURS
                      </h5>
                      <div class="space-y-3">
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ac0b17"
                            >Qui :</span
                          >
                          <span class="text-sm block" style="color: #7c0b0b"
                            >Les esprits espi√®gles de la famille qui adorent le
                            chaos</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ac0b17"
                            >Objectif :</span
                          >
                          <span
                            class="text-sm font-medium block"
                            style="color: #7c0b0b"
                            >Provoquer l'explosion spectaculaire du g√¢teau</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ac0b17"
                            >Motivation :</span
                          >
                          <span
                            class="text-sm italic block"
                            style="color: #7c0b0b"
                            >Jeunes ou vieux, qu'importe ! Pour eux, un
                            anniversaire r√©ussi est un anniversaire M√âMORABLE.
                            Et quoi de plus m√©morable qu'une explosion de g√¢teau
                            ? L'important, c'est de rire ensemble !</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <!-- Le Glouton -->
                <div
                  class="bg-gradient-to-br from-yellow-50/70 via-amber-50/60 to-yellow-100/80 rounded-2xl p-6 border shadow-sm backdrop-blur-sm hover:shadow-md transition-all duration-300"
                  style="border-color: #ffd700"
                >
                  <div class="flex flex-col sm:flex-row sm:items-start">
                    <span class="text-3xl mb-3 sm:mb-0 sm:mr-4">üòã</span>
                    <div class="flex-1">
                      <h5 class="text-xl font-bold mb-3" style="color: #ffd700">
                        LE GLOUTON
                      </h5>
                      <div class="space-y-3">
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ffd700"
                            >Qui :</span
                          >
                          <span class="text-sm block" style="color: #cc9900"
                            >Le cousin lointain venu de loin, attir√© par la
                            l√©gende du four</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ffd700"
                            >Objectif :</span
                          >
                          <span
                            class="text-sm font-medium block"
                            style="color: #cc9900"
                            >Voler le g√¢teau au moment parfait et s'√©clipser
                            discr√®tement</span
                          >
                        </div>
                        <div>
                          <span
                            class="font-medium text-sm block mb-1"
                            style="color: #ffd700"
                            >Motivation :</span
                          >
                          <span
                            class="text-sm italic block"
                            style="color: #cc9900"
                            >Il conna√Æt la l√©gende du four ancestral et sait que
                            le g√¢teau √† sa taille id√©ale (entre 15 et 18) est
                            absolument divin. Il collecte discr√®tement des
                            cartes D√©gourmandise et attend le moment parfait :
                            avec au moins 2 de ces cartes en main, il pourra
                            voler le g√¢teau et s'enfuir !</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Contenu de la Bo√Æte -->
      <section id="contenu" class="mb-12">
        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <!-- Titre de section -->
            <div class="text-center mb-8">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 bg-clip-text text-transparent mb-4"
              >
                Contenu de la Bo√Æte
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-300 to-pink-300 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 max-w-2xl mx-auto">
                Tout ce qu'il vous faut pour cr√©er le chaos en cuisine !
              </p>
            </div>

            <!-- Contenu de la bo√Æte -->
            <div class="max-w-4xl mx-auto">
              <div class="grid md:grid-cols-2 gap-6">
                <!-- Cartes & Mat√©riel -->
                <div
                  class="bg-white rounded-xl p-4 shadow-md border border-orange-200 hover:shadow-lg transition-all duration-300"
                >
                  <div class="flex items-center mb-3">
                    <h3 class="text-lg font-bold text-gray-800">
                      Cartes & Mat√©riel
                    </h3>
                  </div>
                  <ul class="space-y-3 text-gray-700 text-sm">
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong>108 cartes</strong>
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong>Un plateau</strong>
                        <span class="block sm:inline sm:ml-1 text-gray-600"
                          >(permettant de suivre l'avanc√© du jeu)</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong>2 jetons punchboards</strong>
                        <span class="block sm:inline sm:ml-1 text-gray-600"
                          >(capacit√© du four & taille du g√¢teau)</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong>1 Livret de r√®gles</strong>
                      </div>
                    </li>
                  </ul>
                </div>

                <!-- Informations G√©n√©rales -->
                <div
                  class="bg-white rounded-xl p-4 shadow-md border border-orange-200 hover:shadow-lg transition-all duration-300"
                >
                  <div class="flex items-center mb-3">
                    <h3 class="text-lg font-bold text-gray-800">
                      Informations G√©n√©rales
                    </h3>
                  </div>
                  <ul class="space-y-3 text-gray-700 text-sm">
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong class="block sm:inline">Joueurs:</strong>
                        <span class="block sm:inline sm:ml-1"
                          >1-2 (Coop√©ratif) ou 3-5 (R√¥les cach√©s)</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong class="block sm:inline">√Çge:</strong>
                        <span class="block sm:inline sm:ml-1"
                          >√Ä partir de 7 ans</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong class="block sm:inline">Dur√©e:</strong>
                        <span class="block sm:inline sm:ml-1"
                          >15-20 minutes</span
                        >
                      </div>
                    </li>
                    <li class="flex items-start">
                      <span
                        class="w-2 h-2 bg-orange-400 rounded-full mr-3 mt-1.5 flex-shrink-0"
                      ></span>
                      <div>
                        <strong class="block sm:inline">Genre:</strong>
                        <span class="block sm:inline sm:ml-1"
                          >Bluff, Tension, Gourmandise</span
                        >
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Mise en Place -->
      <section id="mise-en-place" class="mb-12">
        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <!-- Titre de section -->
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-500 via-red-500 to-pink-500 bg-clip-text text-transparent mb-4"
              >
                Mise en Place
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-300 to-pink-300 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 max-w-2xl mx-auto">
                Pr√©parez votre cuisine pour le chaos ! Suivez ces √©tapes pour
                une mise en place parfaite.
              </p>
            </div>

            <!-- √âtapes de mise en place -->
            <div class="max-w-4xl mx-auto">
              <ol class="space-y-3">
                <li
                  v-for="(step, index) in setupSteps"
                  :key="index"
                  class="bg-white rounded-xl p-4 shadow-md border border-orange-200 hover:shadow-lg transition-all duration-300"
                >
                  <div class="flex items-center space-x-4">
                    <!-- Num√©ro de l'√©tape -->
                    <div class="flex-shrink-0">
                      <div
                        class="w-8 h-8 bg-gradient-to-br from-orange-500 to-red-500 text-white rounded-full flex items-center justify-center font-bold text-sm shadow-md"
                      >
                        {{ index + 1 }}
                      </div>
                    </div>

                    <!-- Contenu de l'√©tape -->
                    <div class="flex-1 min-w-0">
                      <div
                        class="text-gray-800 text-sm leading-relaxed"
                        v-html="step"
                      ></div>
                    </div>
                  </div>
                </li>
              </ol>
            </div>

            <!-- Note d'encouragement -->
            <div class="mt-6 text-center">
              <div
                class="bg-green-100 rounded-xl p-4 border border-green-300 max-w-2xl mx-auto"
              >
                <p class="text-green-800 font-medium">
                  üç∞ Une fois la mise en place termin√©e, que le meilleur
                  gagne... et que le g√¢teau survive (ou pas) ! üç∞
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- D√©roulement -->
      <section
        id="deroulement"
        class="mb-12 relative overflow-hidden rounded-3xl"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">‚è∞</div>
          <div class="absolute top-16 right-12 text-3xl">üé≤</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">üìù</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">üîÑ</div>
        </div>

        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                D√©roulement d'une partie
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto"
              ></div>
            </div>

            <div
              class="bg-gradient-to-br from-orange-50/80 to-red-50/80 backdrop-blur-sm rounded-2xl p-6 sm:p-8 mb-8 border border-orange-200/50 shadow-lg"
            >
              <h3
                class="text-2xl sm:text-3xl font-bold text-center mb-8 bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent"
              >
                S√©quence de Tour
              </h3>

              <div class="space-y-4">
                <div
                  v-for="(step, index) in gameSteps"
                  :key="index"
                  class="bg-white/70 backdrop-blur-sm rounded-xl p-4 sm:p-6 shadow-md hover:shadow-lg transition-all duration-300 hover:-translate-y-1 border border-white/40"
                >
                  <div class="flex items-start space-x-4 sm:space-x-6">
                    <div class="flex-shrink-0">
                      <div
                        class="w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-red-500 to-orange-500 text-white rounded-full flex items-center justify-center font-bold text-lg shadow-lg"
                      >
                        {{ index + 1 }}
                      </div>
                    </div>
                    <div class="flex-1 pt-2">
                      <p
                        class="text-gray-700 text-base sm:text-lg leading-relaxed"
                        v-html="step"
                      ></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="bg-gradient-to-br from-yellow-100/90 to-amber-100/90 backdrop-blur-sm rounded-2xl p-6 sm:p-8 shadow-lg border-2 border-yellow-300/50"
            >
              <div class="flex items-center justify-center mb-6">
                <div
                  class="bg-gradient-to-r from-yellow-500 to-amber-500 rounded-xl p-3 shadow-lg"
                >
                  <div class="text-2xl text-white">‚ö†Ô∏è</div>
                </div>
              </div>

              <h4
                class="text-xl sm:text-2xl font-bold text-center text-amber-800 mb-6 bg-gradient-to-r from-yellow-700 to-amber-700 bg-clip-text text-transparent"
              >
                Fin de Partie Imm√©diate
              </h4>

              <div class="space-y-3">
                <div
                  class="bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-yellow-200/50 hover:bg-white/90 transition-colors duration-300"
                >
                  <div class="flex items-start space-x-3">
                    <div class="text-xl">üí•</div>
                    <div
                      class="text-amber-700 font-medium text-sm sm:text-base"
                    >
                      <strong>Si le g√¢teau explose</strong> (taille du g√¢teau ‚â•
                      capacit√© du four)
                    </div>
                  </div>
                </div>

                <div
                  class="bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-yellow-200/50 hover:bg-white/90 transition-colors duration-300"
                >
                  <div class="flex items-start space-x-3">
                    <div class="text-xl">‚è±Ô∏è</div>
                    <div
                      class="text-amber-700 font-medium text-sm sm:text-base"
                    >
                      <strong>Apr√®s le tour d√©clench√©</strong> par l'√©v√©nement
                      "Minuteur final"
                    </div>
                  </div>
                </div>

                <div
                  class="bg-white/70 backdrop-blur-sm rounded-xl p-4 border border-yellow-200/50 hover:bg-white/90 transition-colors duration-300"
                >
                  <div class="flex items-start space-x-3">
                    <div class="text-xl">üÉè</div>
                    <div
                      class="text-amber-700 font-medium text-sm sm:text-base"
                    >
                      <strong>Quand la pioche est vide</strong> et qu'un joueur
                      ne peut plus reconstituer sa main (on termine le tour en
                      cours)
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Conditions de Victoire -->
      <section id="victoire" class="mb-12 relative overflow-hidden rounded-3xl">
        <div
          class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">üèÜ</div>
          <div class="absolute top-16 right-12 text-3xl">üë®‚Äçüç≥</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">üéØ</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">üç∞</div>
        </div>

        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                Conditions de Victoire
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 text-lg font-medium">
                Les conditions d√©pendent de votre r√¥le dans la cuisine
              </p>
            </div>

            <div class="grid lg:grid-cols-3 gap-8 mb-10">
              <!-- P√¢tissiers (ex-D√©mineurs) -->
              <div class="group h-full">
                <div
                  class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 h-full flex flex-col border-4 border-green-500"
                >
                  <!-- Zone titre align√©e -->
                  <div class="text-center mb-2">
                    <h4 class="text-2xl font-bold text-green-600">
                      P√ÇTISSIERS
                    </h4>
                  </div>

                  <!-- Zone objectif align√©e -->
                  <div class="px-2 mt-auto">
                    <div
                      class="bg-green-50/90 backdrop-blur-sm rounded-lg p-4 border-2 border-green-400 shadow-inner"
                    >
                      <p class="text-sm text-green-600 font-medium mb-2">
                        Objectif :
                      </p>
                      <p
                        class="text-green-800 text-sm leading-relaxed font-medium"
                      >
                        Emp√™cher que le g√¢teau explose
                        <strong>ET</strong> emp√™cher le Glouton de r√©ussir sa
                        mission
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Farceurs (ex-Saboteurs) -->
              <div class="group h-full">
                <div
                  class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 h-full flex flex-col border-4 border-red-500"
                >
                  <!-- Zone titre align√©e -->
                  <div class="text-center mb-2">
                    <h4 class="text-2xl font-bold text-red-600">FARCEURS</h4>
                  </div>

                  <!-- Zone objectif align√©e -->
                  <div class="px-2 mt-auto">
                    <div
                      class="bg-red-50/90 backdrop-blur-sm rounded-lg p-4 border-2 border-red-400 shadow-inner"
                    >
                      <p class="text-sm text-red-600 font-medium mb-2">
                        Objectif :
                      </p>
                      <p
                        class="text-red-800 text-sm leading-relaxed font-medium"
                      >
                        Faire <strong>exploser le g√¢teau</strong> (taille du
                        g√¢teau ‚â• capacit√© du four)
                      </p>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Glouton (ex-Agent Double) -->
              <div class="group h-full">
                <div
                  class="bg-white/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl hover:shadow-2xl transition-all duration-300 hover:-translate-y-2 h-full flex flex-col border-4 border-yellow-500"
                >
                  <!-- Zone titre align√©e -->
                  <div class="text-center mb-2">
                    <h4 class="text-2xl font-bold text-yellow-600">GLOUTON</h4>
                  </div>

                  <!-- Zone objectif align√©e -->
                  <div class="px-2 mt-auto">
                    <div
                      class="bg-yellow-50/90 backdrop-blur-sm rounded-lg p-4 border-2 border-yellow-500 shadow-inner"
                    >
                      <p class="text-sm text-yellow-600 font-medium mb-2">
                        Objectif :
                      </p>
                      <div class="space-y-2">
                        <p
                          class="text-yellow-800 text-sm leading-relaxed font-medium"
                        >
                          Gagne
                          <strong>imm√©diatement pendant son tour</strong> si :
                        </p>
                        <p
                          class="text-yellow-800 text-sm leading-relaxed font-medium"
                        >
                          <strong
                            >au moins 2 cartes objectifs glouton en main</strong
                          >
                          <strong> ET</strong> taille du g√¢teau entre
                          <strong>15-18</strong>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Liste des Cartes -->
      <section id="cartes" class="mb-12 relative overflow-hidden rounded-3xl">
        <div
          class="absolute inset-0 bg-gradient-to-br from-purple-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">üÉè</div>
          <div class="absolute top-16 right-12 text-3xl">üé¥</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">üéØ</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">‚ö°</div>
        </div>
        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-purple-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                Mat√©riel de Jeu
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
              ></div>
            </div>

            <!-- Plateau de jeu -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(20, 184, 166, 0.1),
                    rgba(6, 182, 212, 0.1)
                  );
                  border-left: 4px solid;
                  border-image: linear-gradient(to bottom, #14b8a6, #06b6d4) 1;
                "
              >
                <span class="flex items-center">
                  <span class="mr-2">üéØ</span>
                  <span
                    class="bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent"
                  >
                    Plateau de Jeu
                  </span>
                </span>
              </h3>
              <div
                class="bg-gradient-to-r from-teal-50 to-cyan-50 rounded-xl p-6"
              >
                <div class="text-center mb-4">
                  <div
                    class="inline-block bg-white rounded-xl shadow-lg p-4 mb-4"
                  >
                    <img
                      src="/placeholder-card.png"
                      alt="Plateau de jeu"
                      class="h-48 w-auto mx-auto object-contain"
                    />
                  </div>
                  <p class="text-gray-700 leading-relaxed max-w-2xl mx-auto">
                    Le plateau permet de suivre l'avanc√©e de la partie entre la
                    taille du g√¢teau et la capacit√© du four. Il offre une
                    visualisation claire de l'√©tat du jeu et aide les joueurs √†
                    comprendre rapidement la situation actuelle.
                  </p>
                </div>
              </div>
            </div>

            <!-- Pions -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(99, 102, 241, 0.1),
                    rgba(139, 92, 246, 0.1)
                  );
                  border-left: 4px solid;
                  border-image: linear-gradient(to bottom, #6366f1, #8b5cf6) 1;
                "
              >
                <span class="flex items-center">
                  <span class="mr-2">üé≤</span>
                  <span
                    class="bg-gradient-to-r from-indigo-600 to-violet-600 bg-clip-text text-transparent"
                  >
                    Pions
                  </span>
                </span>
              </h3>
              <div
                class="bg-gradient-to-r from-indigo-50 to-violet-50 rounded-xl p-6"
              >
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <!-- Pion Taille du G√¢teau -->
                  <div class="bg-white rounded-xl shadow-md p-6 text-center">
                    <div class="inline-block bg-gray-50 rounded-xl p-4 mb-4">
                      <img
                        src="/placeholder-card.png"
                        alt="Pion taille du g√¢teau"
                        class="h-32 w-auto mx-auto object-contain"
                      />
                    </div>
                    <h4 class="font-bold text-lg text-gray-800 mb-2">
                      Pion Taille du G√¢teau
                    </h4>
                    <p class="text-gray-600 text-sm">
                      Indique la taille actuelle du g√¢teau sur le plateau
                    </p>
                  </div>

                  <!-- Pion Capacit√© du Four -->
                  <div class="bg-white rounded-xl shadow-md p-6 text-center">
                    <div class="inline-block bg-gray-50 rounded-xl p-4 mb-4">
                      <img
                        src="/placeholder-card.png"
                        alt="Pion capacit√© du four"
                        class="h-32 w-auto mx-auto object-contain"
                      />
                    </div>
                    <h4 class="font-bold text-lg text-gray-800 mb-2">
                      Pion Capacit√© du Four
                    </h4>
                    <p class="text-gray-600 text-sm">
                      Indique la capacit√© maximale du four sur le plateau
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Cartes R√¥les -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(34, 197, 94, 0.1),
                    rgba(239, 68, 68, 0.1),
                    rgba(245, 158, 11, 0.1)
                  );
                  border-left: 4px solid;
                  border-image: linear-gradient(
                      to bottom,
                      #22c55e,
                      #ef4444,
                      #f59e0b
                    )
                    1;
                "
              >
                <span class="flex items-center">
                  <span class="mr-2">üé≠</span>
                  <span
                    class="bg-gradient-to-r from-green-600 via-red-600 to-yellow-600 bg-clip-text text-transparent"
                  >
                    Cartes R√¥les
                  </span>
                </span>
              </h3>
              <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-3">
                <!-- P√¢tissiers -->
                <div
                  class="bg-gradient-to-br from-green-50 to-white rounded-xl p-6 border-4 border-green-500 shadow-lg hover:shadow-xl transition-all duration-300 group"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                      <div class="flex space-x-1">
                        <div
                          class="w-10 h-14 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte P√¢tissier"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'P√¢tissier'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <div
                          class="w-10 h-14 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte P√¢tissier"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'P√¢tissier'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                      </div>
                      <h4 class="font-semibold text-green-700">P√¢tissiers</h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-green-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 2</span
                      >
                      <div class="text-xs text-gray-500 mt-1">max</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-green-100 text-green-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üë©‚Äçüç≥ √âquipe Gentille</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    üéØ Emp√™cher le g√¢teau d'exploser
                    <strong>ET</strong> emp√™cher le Glouton de voler le g√¢teau
                  </p>
                </div>

                <!-- Farceurs -->
                <div
                  class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-4 border-red-500 shadow-lg hover:shadow-xl transition-all duration-300 group"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-2">
                      <div class="flex space-x-1">
                        <div
                          class="w-8 h-12 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Farceur"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal('/placeholder-card.png', 'Farceur')
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <div
                          class="w-8 h-12 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Farceur"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal('/placeholder-card.png', 'Farceur')
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <div
                          class="w-8 h-12 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Farceur"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal('/placeholder-card.png', 'Farceur')
                            "
                            @error="handleImageError"
                          />
                        </div>
                      </div>
                      <h4 class="font-semibold text-red-700">Farceurs</h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-red-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 3</span
                      >
                      <div class="text-xs text-gray-500 mt-1">max</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-red-100 text-red-800 text-xs font-medium px-3 py-1 rounded-full"
                      >ü§° √âquipe Sabotage</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    üí• Faire exploser le g√¢teau en faisant monter le compteur √†
                    20 ou plus
                  </p>
                </div>

                <!-- Glouton -->
                <div
                  class="bg-gradient-to-br from-yellow-50 to-white rounded-xl p-6 border-4 border-yellow-500 shadow-lg hover:shadow-xl transition-all duration-300 group"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Glouton"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal('/placeholder-card.png', 'Glouton')
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">Glouton</h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">unique</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üòã R√¥le Solo</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    üèÜ Voler le g√¢teau : avoir 2+ cartes objectif ET taille du
                    g√¢teau entre 15-18 pendant SON tour
                  </p>
                </div>
              </div>
            </div>

            <!-- Cartes Objectif Glouton -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold text-yellow-600 bg-gradient-to-r from-yellow-100 to-transparent p-4 border-l-4 border-yellow-500 rounded mb-6"
              >
                üç¥ Cartes Objectif Glouton
              </h3>
              <div class="mb-6 text-center">
                <div
                  class="bg-yellow-50/70 backdrop-blur-sm rounded-xl p-4 border border-yellow-200/50"
                >
                  <p class="text-yellow-700 font-medium text-sm sm:text-base">
                    ‚ö†Ô∏è <strong>Condition de victoire du Glouton :</strong> Le
                    Glouton doit avoir au moins 2 de ces cartes en main ET que
                    la taille du g√¢teau soit entre 15-18 pendant SON tour pour
                    gagner imm√©diatement
                  </p>
                </div>
              </div>
              <div class="grid gap-6 md:grid-cols-2 lg:grid-cols-5">
                <!-- Cerises confites -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Cerises confites"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Cerises confites'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">
                        Cerises confites
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üç∞ Objectif Glouton</span
                    >
                  </div>
                </div>

                <!-- Spirale de caramel -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Spirale de caramel"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Spirale de caramel'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">
                        Spirale de caramel
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üç∞ Objectif Glouton</span
                    >
                  </div>
                </div>

                <!-- Plan d'√©vacuation -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Macarons dor√©s"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Macarons dor√©s'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">
                        Macarons dor√©s
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üç∞ Objectif Glouton</span
                    >
                  </div>
                </div>

                <!-- Neutralisation chimique -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Rosace de chantilly"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Rosace de chantilly'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">
                        Rosace de chantilly
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üç∞ Objectif Glouton</span
                    >
                  </div>
                </div>

                <!-- Sch√©ma √©lectrique -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Bonbons g√©lifi√©s"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Bonbons g√©lifi√©s'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-yellow-700">
                        Bonbons g√©lifi√©s
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üç∞ Objectif Glouton</span
                    >
                  </div>
                </div>
              </div>
            </div>

            <!-- Cartes Compteur -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  color: #dfbd7f;
                  background: linear-gradient(
                    to right,
                    rgba(223, 189, 127, 0.1),
                    transparent
                  );
                  border-left-color: #dfbd7f;
                "
              >
                üå°Ô∏è Cartes influant sur la taille du g√¢teau
              </h3>

              <!-- Charges -->
              <div class="mb-8">
                <h4
                  class="text-xl font-bold text-red-700 mb-4 flex items-center"
                >
                  ‚¨ÜÔ∏è Chaleur (+)
                </h4>
                <div class="grid gap-2 md:grid-cols-2 lg:grid-cols-3">
                  <!-- Charge +1 -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Chaleur +1"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur +1'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur +1</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau de +1
                    </p>
                  </div>

                  <!-- Charge +2 -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Chaleur +2"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur +2'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur +2</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 6</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau de +2
                    </p>
                  </div>

                  <!-- Charge +3 -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Chaleur +3"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur +3'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur +3</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau de +3
                    </p>
                  </div>

                  <!-- Charge +4 -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Chaleur +4"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur +4'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur +4</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 4</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau de +4
                    </p>
                  </div>

                  <!-- Charge +5 -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Charge +5"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur +5'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur +5</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau de +5
                    </p>
                  </div>

                  <!-- X -->
                  <div
                    class="bg-gradient-to-br from-red-50 to-white rounded-xl p-6 border-2 border-red-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Charge X"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Chaleur ?'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-red-700">Chaleur ?</h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Augmente la taille du g√¢teau d'une valeur myst√®re
                      d√©termin√©e par tirage de carte au hasard
                    </p>
                  </div>
                </div>
              </div>

              <!-- Refroidissement -->
              <div class="mb-8">
                <h4
                  class="text-xl font-bold text-green-700 mb-4 flex items-center"
                >
                  ‚¨áÔ∏è Refroidissement (-)
                </h4>
                <div class="grid gap-2 md:grid-cols-2 lg:grid-cols-3">
                  <!-- Refroidissement -1 -->
                  <div
                    class="bg-gradient-to-br from-green-50 to-white rounded-xl p-6 border-2 border-green-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Refroidissement -1"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Refroidissement -1'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-green-700">
                          Refroidissement -1
                        </h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Diminue la taille du g√¢teau de -1
                    </p>
                  </div>

                  <!-- Refroidissement -2 -->
                  <div
                    class="bg-gradient-to-br from-green-50 to-white rounded-xl p-6 border-2 border-green-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Refroidissement -2"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Refroidissement -2'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-green-700">
                          Refroidissement -2
                        </h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Diminue la taille du g√¢teau de -2
                    </p>
                  </div>

                  <!-- Refroidissement -3 -->
                  <div
                    class="bg-gradient-to-br from-green-50 to-white rounded-xl p-6 border-2 border-green-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Refroidissement -3"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Refroidissement -3'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-green-700">
                          Refroidissement -3
                        </h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Diminue la taille du g√¢teau de -3
                    </p>
                  </div>

                  <!-- Refroidissement X -->
                  <div
                    class="bg-gradient-to-br from-green-50 to-white rounded-xl p-6 border-2 border-green-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  >
                    <div class="flex items-center justify-between mb-4">
                      <div class="flex items-center space-x-3">
                        <div
                          class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Refroidissement ?"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Refroidissement ?'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-green-700">
                          Refroidissement ?
                        </h5>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div class="mb-2">
                      <span
                        class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                        style="
                          background-color: rgba(223, 189, 127, 0.1);
                          color: #dfbd7f;
                        "
                        >üå°Ô∏è Taille du g√¢teau</span
                      >
                    </div>
                    <p class="text-sm text-gray-600">
                      Diminue la taille du g√¢teau d'une valeur myst√®re
                      d√©termin√©e par tirage de carte au hasard
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Cartes Action -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  color: #ff914d;
                  background: linear-gradient(
                    to right,
                    rgba(255, 145, 77, 0.1),
                    transparent
                  );
                  border-left-color: #ff914d;
                "
              >
                üîß Cartes Action
              </h3>

              <div
                class="p-4 rounded-r-lg mb-6 border-l-4"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(255, 145, 77, 0.1),
                    transparent
                  );
                  border-left-color: #ff914d;
                "
              >
                <p style="color: #ff914d">
                  <strong>üìù Note :</strong> Les cartes Action (marqu√©es üîß)
                  sont des cartes √† effet offensif, strat√©gique ou de
                  manipulation que vous jouez pendant
                  <strong>votre tour</strong>. Elles permettent d'interagir avec
                  les autres joueurs, de modifier les r√®gles temporairement ou
                  de r√©cup√©rer des informations.
                </p>
              </div>

              <div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
                <div
                  v-for="card in actionCards"
                  :key="card.name"
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(255, 145, 77, 0.1),
                      white
                    );
                    border-color: rgba(255, 145, 77, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          :src="card.image"
                          :alt="'Carte ' + card.name"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="openCardModal(card.image, card.name)"
                        />
                      </div>
                      <h4 class="font-semibold text-gray-800">
                        {{ card.name }}
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="bg-yellow-500 text-gray-800 text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        >√ó {{ card.quantity }}</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block bg-yellow-100 text-yellow-800 text-xs font-medium px-3 py-1 rounded-full"
                      >üîß {{ card.type }}</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">{{ card.effect }}</p>
                </div>
              </div>
            </div>

            <!-- Cartes Action R√©actives -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  color: #cb6ce6;
                  background: linear-gradient(
                    to right,
                    rgba(203, 108, 230, 0.1),
                    transparent
                  );
                  border-left-color: #cb6ce6;
                "
              >
                ‚ö° Cartes Action R√©actives
              </h3>

              <div
                class="p-4 rounded-r-lg mb-6 border-l-4"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(203, 108, 230, 0.1),
                    transparent
                  );
                  border-left-color: #cb6ce6;
                "
              >
                <p style="color: #cb6ce6">
                  <strong>‚ö° Note importante :</strong> Les cartes Action
                  R√©actives (marqu√©es ‚ö°) peuvent
                  <strong
                    >√™tre jou√©es n'importe quand mais que contre des cartes
                    d'autres joueurs</strong
                  >
                  pour contrer, modifier ou rediriger une action. Elles ne
                  comptent pas comme votre carte jou√©e du tour. Une carte
                  r√©active peut contrer une autre carte r√©active.
                </p>
              </div>

              <div class="grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
                <!-- Tablier de Protection -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Tablier de Protection"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Tablier de Protection'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-gray-800">
                        Tablier de Protection
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        style="background-color: #cb6ce6"
                        >√ó 4</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                      style="
                        background-color: rgba(203, 108, 230, 0.1);
                        color: #cb6ce6;
                      "
                      >‚ö° R√©active</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    Annule l'effet de la carte jou√©e
                  </p>
                </div>

                <!-- Renvoi de spatule -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Renvoi de spatule"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Renvoi de spatule'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-gray-800">
                        Renvoi de spatule
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        style="background-color: #cb6ce6"
                        >√ó 4</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                      style="
                        background-color: rgba(203, 108, 230, 0.1);
                        color: #cb6ce6;
                      "
                      >‚ö° R√©active</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    Redirige une action contre vous ou inverse le signe (+ ‚Üî -)
                  </p>
                </div>

                <!-- Coup de boost -->
                <div
                  class="bg-gradient-to-br rounded-xl p-6 border-2 shadow-lg hover:shadow-xl transition-all duration-300 group"
                  style="
                    background: linear-gradient(
                      135deg,
                      rgba(203, 108, 230, 0.1),
                      white
                    );
                    border-color: rgba(203, 108, 230, 0.5);
                  "
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          src="/placeholder-card.png"
                          alt="Carte Coup de boost"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Coup de boost'
                            )
                          "
                          @error="handleImageError"
                        />
                      </div>
                      <h4 class="font-semibold text-gray-800">Coup de boost</h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        style="background-color: #cb6ce6"
                        >√ó 3</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                      style="
                        background-color: rgba(203, 108, 230, 0.1);
                        color: #cb6ce6;
                      "
                      >‚ö° R√©active</span
                    >
                  </div>
                  <p class="text-sm text-gray-600">
                    Doublez la valeur de la carte chaleur, refroidissement, four
                    r√©tr√©ci ou four √©largi jou√©e
                  </p>
                </div>
              </div>
            </div>

            <!-- Cartes √âv√©nement -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold p-4 border-l-4 rounded mb-6"
                style="
                  color: #4682b4;
                  background: linear-gradient(
                    to right,
                    rgba(70, 130, 180, 0.1),
                    transparent
                  );
                  border-left-color: #4682b4;
                "
              >
                üé≠ Cartes √âv√©nement
              </h3>

              <div
                class="p-4 rounded-r-lg mb-6 border-l-4"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(70, 130, 180, 0.1),
                    transparent
                  );
                  border-left-color: #4682b4;
                "
              >
                <h4 class="font-bold mb-2" style="color: #4682b4">
                  ‚è∞ Timing :
                </h4>
                <p style="color: #4682b4">
                  Un √©v√©nement est r√©v√©l√© au d√©but du tour du premier joueur,
                  <strong>avant qu'il joue sa carte</strong>. L'effet s'applique
                  √† tout le tour de table.
                </p>
              </div>

              <div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">
                <div
                  v-for="event in events"
                  :key="event.name"
                  :class="
                    event.name === 'Minuteur final'
                      ? 'border-red-500 bg-red-50'
                      : ''
                  "
                  :style="
                    event.name === 'Minuteur final'
                      ? ''
                      : 'background: linear-gradient(135deg, rgba(70, 130, 180, 0.1), white); border-color: rgba(70, 130, 180, 0.5);'
                  "
                  class="border-2 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                >
                  <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center space-x-3">
                      <div
                        class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                      >
                        <img
                          :src="event.image"
                          :alt="'Carte ' + event.name"
                          loading="lazy"
                          class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                          @click="openCardModal(event.image, event.name)"
                        />
                      </div>
                      <h4
                        class="font-bold text-lg"
                        :class="
                          event.name === 'Minuteur final' ? 'text-red-800' : ''
                        "
                        :style="
                          event.name === 'Minuteur final'
                            ? ''
                            : 'color: #4682b4;'
                        "
                      >
                        {{ event.name }}
                      </h4>
                    </div>
                    <div class="text-right">
                      <span
                        class="text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                        style="background-color: #4682b4"
                        >√ó 1</span
                      >
                      <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                    </div>
                  </div>
                  <div class="mb-2">
                    <span
                      class="inline-block text-xs font-medium px-3 py-1 rounded-full"
                      style="
                        background-color: rgba(70, 130, 180, 0.1);
                        color: #4682b4;
                      "
                      >üé≠ √âv√©nement</span
                    >
                  </div>
                  <p class="text-sm text-gray-700" v-html="event.effect"></p>
                </div>
              </div>

              <div
                class="mt-6 p-4 rounded-lg border-l-4"
                style="
                  background: linear-gradient(
                    to right,
                    rgba(70, 130, 180, 0.1),
                    transparent
                  );
                  border-left-color: #4682b4;
                "
              >
                <p class="text-sm" style="color: #4682b4">
                  <strong>üìã Mise en place sp√©ciale :</strong>
                  Piochez 9 cartes √âv√©nement au hasard. Prenez 2 cartes au
                  hasard + la carte "Minuteur final", m√©langez ces 3 cartes et
                  placez-les sous la pile d'√©v√©nements pour qu'elles sortent
                  entre les tours 8 et 10.
                </p>
              </div>
            </div>

            <!-- Cartes Syst√®me -->
            <div class="mb-8">
              <h3
                class="text-2xl font-bold text-orange-600 bg-gradient-to-r from-orange-100 to-transparent p-4 border-l-4 border-orange-500 rounded mb-6"
              >
                ‚öôÔ∏è Cartes Syst√®me
              </h3>
              <div class="bg-white rounded-lg shadow-md p-6">
                <!-- Carte Premier Joueur -->
                <div class="mb-6">
                  <h4
                    class="text-xl font-bold text-gray-700 mb-4 flex items-center"
                  >
                    üëë Carte Premier Joueur
                  </h4>
                  <div
                    class="grid gap-4 md:grid-cols-1 lg:grid-cols-1 max-w-sm"
                  >
                    <div
                      class="bg-gradient-to-br from-gray-50 to-white rounded-xl p-6 border-2 border-gray-200 shadow-lg hover:shadow-xl transition-all duration-300 group"
                    >
                      <div class="flex items-center justify-between mb-4">
                        <div class="flex items-center space-x-3">
                          <div
                            class="w-12 h-16 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1"
                          >
                            <img
                              src="/placeholder-card.png"
                              alt="Carte Premier Joueur"
                              loading="lazy"
                              class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                              @click="
                                openCardModal(
                                  '/placeholder-card.png',
                                  'Premier Joueur'
                                )
                              "
                              @error="handleImageError"
                            />
                          </div>
                          <h5 class="font-semibold text-gray-800">
                            Premier Joueur
                          </h5>
                        </div>
                        <div class="text-right">
                          <span
                            class="bg-gray-600 text-white text-xs font-bold px-2 py-1 rounded-full flex-shrink-0"
                            >√ó 1</span
                          >
                          <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                        </div>
                      </div>
                      <div class="mb-2">
                        <span
                          class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                          >Syst√®me</span
                        >
                      </div>
                      <p class="text-sm text-gray-600">
                        Indique qui est le premier joueur et commence la partie
                      </p>
                    </div>
                  </div>
                </div>

                <!-- Cartes Syst√®me Num√©rot√©es -->
                <div class="mb-6">
                  <h4
                    class="text-xl font-bold text-gray-700 mb-4 flex items-center"
                  >
                    üî¢ Cartes Syst√®me Num√©rot√©es
                  </h4>
                  <div
                    class="bg-blue-50 border-l-4 border-blue-400 p-4 rounded-r-lg mb-6"
                  >
                    <p class="text-blue-700">
                      Ces cartes servent de r√©f√©rence pour d√©terminer les
                      valeurs al√©atoires des effets n√©cessitant un tirage au
                      hasard.
                    </p>
                  </div>
                  <div class="grid gap-4 md:grid-cols-5">
                    <!-- Syst√®me 1 -->
                    <div
                      class="bg-white border border-gray-300 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                    >
                      <div class="flex flex-col items-center">
                        <div
                          class="w-16 h-20 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1 mb-4"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Syst√®me 1"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Syst√®me 1'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-gray-800 text-center">
                          Syst√®me 1
                        </h5>
                        <div class="mt-2">
                          <span
                            class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                            >Syst√®me</span
                          >
                        </div>
                      </div>
                    </div>

                    <!-- Syst√®me 2 -->
                    <div
                      class="bg-white border border-gray-300 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                    >
                      <div class="flex flex-col items-center">
                        <div
                          class="w-16 h-20 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1 mb-4"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Syst√®me 2"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Syst√®me 2'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-gray-800 text-center">
                          Syst√®me 2
                        </h5>
                        <div class="mt-2">
                          <span
                            class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                            >Syst√®me</span
                          >
                        </div>
                      </div>
                    </div>

                    <!-- Syst√®me 3 -->
                    <div
                      class="bg-white border border-gray-300 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                    >
                      <div class="flex flex-col items-center">
                        <div
                          class="w-16 h-20 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1 mb-4"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Syst√®me 3"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Syst√®me 3'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-gray-800 text-center">
                          Syst√®me 3
                        </h5>
                        <div class="mt-2">
                          <span
                            class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                            >Syst√®me</span
                          >
                        </div>
                      </div>
                    </div>

                    <!-- Syst√®me 4 -->
                    <div
                      class="bg-white border border-gray-300 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                    >
                      <div class="flex flex-col items-center">
                        <div
                          class="w-16 h-20 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1 mb-4"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Syst√®me 4"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Syst√®me 4'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-gray-800 text-center">
                          Syst√®me 4
                        </h5>
                        <div class="mt-2">
                          <span
                            class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                            >Syst√®me</span
                          >
                        </div>
                      </div>
                    </div>

                    <!-- Syst√®me 5 -->
                    <div
                      class="bg-white border border-gray-300 rounded-lg p-4 shadow hover:shadow-md transition-shadow group"
                    >
                      <div class="flex flex-col items-center">
                        <div
                          class="w-16 h-20 rounded-md overflow-hidden shadow-sm bg-gray-50 p-1 mb-4"
                        >
                          <img
                            src="/placeholder-card.png"
                            alt="Carte Syst√®me 5"
                            loading="lazy"
                            class="w-full h-full object-contain group-hover:scale-105 transition-transform duration-200 cursor-zoom-in"
                            @click="
                              openCardModal(
                                '/placeholder-card.png',
                                'Syst√®me 5'
                              )
                            "
                            @error="handleImageError"
                          />
                        </div>
                        <h5 class="font-semibold text-gray-800 text-center">
                          Syst√®me 5
                        </h5>
                        <div class="mt-2">
                          <span
                            class="inline-block bg-gray-100 text-gray-800 text-xs font-medium px-3 py-1 rounded-full"
                            >Syst√®me</span
                          >
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div
                  class="p-4 bg-gray-50 rounded-lg border-l-4 border-gray-400"
                >
                  <p class="text-gray-800 text-sm">
                    <strong>‚ÑπÔ∏è Note :</strong>
                    Ces √©l√©ments sont n√©cessaires pour le suivi et la gestion de
                    la partie mais ne sont pas des cartes jouables.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Mode Coop√©ratif - COMMENT√â TEMPORAIREMENT -->
      <!-- <section id="cooperatif" class="mb-12">
        <div class="bg-white rounded-2xl shadow-xl overflow-hidden">
          <div class="p-4 sm:p-8">
            <h2
              class="text-2xl sm:text-4xl font-bold text-red-600 border-b-4 border-red-500 pb-4 mb-8"
            >
              ü§ñ Mode Coop√©ratif - Boom Squad
            </h2>

            <div
              class="bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-2xl mb-8"
            >
              <h3 class="text-2xl font-bold mb-4">1-2 joueurs vs IA</h3>
              <p class="text-lg mb-4">
                <strong>Affrontez la Machine</strong>, une IA explosive
                d√©termin√©e √† faire sauter le compteur.
              </p>
              <p class="opacity-90">
                Tenez bon ensemble‚Ä¶ ou sautez ensemble üí•
              </p>
            </div>

            <h3 class="text-2xl font-bold text-orange-600 mb-6">
              ‚öôÔ∏è Mise en Place
            </h3>

            <div class="grid md:grid-cols-2 gap-6 mb-8">
              <div class="bg-blue-50 p-6 rounded-xl border-l-4 border-blue-500">
                <h4 class="text-lg font-bold text-blue-700 mb-4">
                  Configuration
                </h4>
                <ul class="space-y-2 text-blue-700">
                  <li>‚Ä¢ Deck IA de <strong>22 cartes</strong></li>
                  <li>‚Ä¢ Chaque joueur pioche <strong>4 cartes</strong></li>
                  <li>‚Ä¢ Compteur sur <strong>0</strong></li>
                  <li>‚Ä¢ Choisir la difficult√©</li>
                </ul>
              </div>

              <div class="bg-red-50 p-6 rounded-xl border-l-4 border-red-500">
                <h4 class="text-lg font-bold text-red-700 mb-4">
                  Niveaux de Difficult√©
                </h4>
                <div class="space-y-2">
                  <div class="flex justify-between text-sm">
                    <span class="font-medium">D√©butant</span>
                    <span>7 tours, seuil 19</span>
                  </div>
                  <div class="flex justify-between text-sm">
                    <span class="font-medium">Normal</span>
                    <span>8 tours, seuil 17</span>
                  </div>
                  <div class="flex justify-between text-sm">
                    <span class="font-medium">Expert</span>
                    <span>11 tours, seuil 15</span>
                  </div>
                  <div class="flex justify-between text-sm">
                    <span class="font-medium">L√©gende</span>
                    <span>13 tours, seuil 12</span>
                  </div>
                  <div class="flex justify-between text-sm">
                    <span class="font-medium text-red-600">Impossible</span>
                    <span>15 tours, seuil 10</span>
                  </div>
                </div>
              </div>
            </div>

            <h3 class="text-2xl font-bold text-orange-600 mb-6">
              üîÅ D√©roulement d'un Tour
            </h3>

            <div class="space-y-4 mb-8">
              <div
                class="bg-red-100 border-l-4 border-red-500 p-4 rounded-r-lg"
              >
                <h4 class="font-bold text-red-800 mb-2">
                  1. Tour de la Machine (IA)
                </h4>
                <p class="text-red-700">
                  L'IA pioche 1 carte de son deck et applique son effet
                  imm√©diatement
                </p>
              </div>

              <div
                class="bg-blue-100 border-l-4 border-blue-500 p-4 rounded-r-lg"
              >
                <h4 class="font-bold text-blue-800 mb-2">
                  2. Tour des Joueurs
                </h4>
                <p class="text-blue-700">
                  <strong>En duo :</strong> chaque joueur joue 1 carte, pioche
                  <span class="block">1</span>
                  <span class="block"
                    ><strong>En solo :</strong> joue 2 cartes, pioche 2</span
                  >
                  Les joueurs coop√®rent librement
                </p>
              </div>

              <div
                class="bg-yellow-100 border-l-4 border-yellow-500 p-4 rounded-r-lg"
              >
                <h4 class="font-bold text-yellow-800 mb-2">3. Fin du Tour</h4>
                <p class="text-yellow-700">
                  Si le compteur ‚â• seuil d'explosion ‚Üí <strong>D√©faite</strong>
                  Sinon ‚Üí Continuer jusqu'√† la fin des tours
                </p>
              </div>
            </div>

            <div class="grid md:grid-cols-2 gap-8 mb-8">
              <div>
                <h3 class="text-2xl font-bold text-orange-600 mb-6">
                  ü§ñ Deck IA (22 cartes avec logo ü§ñ)
                </h3>
                <div class="bg-red-50 border-2 border-red-200 rounded-lg p-4">
                  <p class="text-sm text-red-700 mb-4">
                    Cartes exclusivement utilis√©es par l'IA (celles avec le logo
                    ü§ñ en haut √† droite)
                  </p>
                  <div class="space-y-2">
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +1"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +1')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +1</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +2"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +2')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +2</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 4</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +3"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +3')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +3</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 3</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +4"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +4')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +4</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +5"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +5')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +5</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge X"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge X')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge X</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Blocage"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'Blocage')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700">Blocage</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Seuil r√©duit"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Seuil r√©duit'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Seuil r√©duit</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Sabotage"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'Sabotage')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Sabotage</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <div>
                <h3 class="text-2xl font-bold text-orange-600 mb-6">
                  üôã‚Äç‚ôÇÔ∏è Deck Joueur (41 cartes)
                </h3>
                <div
                  class="bg-green-50 border-2 border-green-200 rounded-lg p-4"
                >
                  <p class="text-sm text-green-700 mb-4">
                    Cartes disponibles pour les joueurs (quantit√©s pour le mode
                    coop√©ratif)
                  </p>
                  <div class="space-y-2">
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +2"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +2')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +2</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 3</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +3"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +3')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +3</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +4"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +4')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +4</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Charge +5"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'Charge +5')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-red-700">Charge +5</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-red-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="D√©charge -1"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'D√©charge -1')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-green-700"
                          >D√©charge -1</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="D√©charge -2"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'D√©charge -2')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-green-700"
                          >D√©charge -2</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="D√©charge -3"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'D√©charge -3')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-green-700"
                          >D√©charge -3</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 5</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="D√©charge X"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="openCardModal('/placeholder-card.png', 'D√©charge X')"
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-green-700"
                          >D√©charge X</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-green-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Blocage"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal('/placeholder-card.png', 'Blocage')
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700">Blocage</span>
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 2</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Seuil augment√©"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Seuil augment√©'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Seuil augment√©</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 3</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Seuil r√©duit"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Seuil r√©duit'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Seuil r√©duit</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Contrebande"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Contrebande'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Contrebande</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 4</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Manipulation"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Manipulation'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Manipulation</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Intervention hasardeuse"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Intervention hasardeuse'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-yellow-700"
                          >Intervention hasardeuse</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-yellow-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 1</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                    <div
                      class="flex justify-between items-center bg-white p-2 rounded border"
                    >
                      <div class="flex items-center space-x-3">
                        <img
                          src="/placeholder-card.png"
                          alt="Tablier de Protection"
                          loading="lazy"
                          class="w-8 h-10 object-cover rounded cursor-zoom-in hover:scale-110 transition-transform"
                          @click="
                            openCardModal(
                              '/placeholder-card.png',
                              'Tablier de Protection'
                            )
                          "
                        
                        @error="handleImageError"/>
                        <span class="font-medium text-purple-700"
                          >‚ö° Tablier de Protection</span
                        >
                      </div>
                      <div class="text-right">
                        <span
                          class="bg-purple-500 text-white text-xs px-2 py-1 rounded-full"
                          >√ó 4</span
                        >
                        <div class="text-xs text-gray-500 mt-1">quantit√©</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div
              class="bg-yellow-50 border-l-4 border-yellow-400 p-6 rounded-r-lg mb-8"
            >
              <h4 class="font-bold text-yellow-800 mb-4">
                ‚ö†Ô∏è R√®gles Sp√©ciales
              </h4>
              <ul class="text-yellow-700 space-y-2">
                <li>
                  ‚Ä¢ Les cartes <strong>Blocage</strong> de l'IA affectent le
                  joueur suivant dans l'ordre
                </li>
              </ul>
            </div>

            <div
              class="bg-green-100 border-2 border-green-500 rounded-lg p-6 text-center"
            >
              <h4 class="text-xl font-bold text-green-800 mb-2">
                üéØ Condition de Victoire
              </h4>
              <p class="text-green-700">
                <strong>Survivez jusqu'√† la fin du dernier tour</strong> sans
                que le compteur d√©passe le seuil d'explosion !
              </p>
            </div>
          </div>
        </div>
      </section> -->

      <!-- FAQ -->
      <section id="faq" class="mb-12 relative overflow-hidden rounded-3xl">
        <div
          class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">‚ùì</div>
          <div class="absolute top-16 right-12 text-3xl">üí°</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">ü§î</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">üí¨</div>
        </div>

        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden relative z-10"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                Questions Fr√©quentes
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 text-lg font-medium">
                Toutes les r√©ponses aux questions sur les r√®gles du jeu
              </p>
            </div>

            <div class="space-y-6 max-w-4xl mx-auto">
              <div
                v-for="faq in faqs"
                :key="faq.question"
                class="bg-white/90 backdrop-blur-sm border-2 border-orange-200/50 rounded-2xl p-6 shadow-lg hover:shadow-xl transition-all duration-300 hover:-translate-y-1"
              >
                <div class="flex items-start space-x-4">
                  <div
                    class="flex-shrink-0 w-8 h-8 bg-gradient-to-r from-orange-500 to-red-500 rounded-full flex items-center justify-center shadow-lg"
                  >
                    <div class="text-white text-sm font-bold">Q</div>
                  </div>
                  <div class="flex-1">
                    <h3
                      class="text-lg font-bold text-gray-800 mb-4 leading-tight"
                    >
                      {{ faq.question }}
                    </h3>
                    <div
                      class="bg-orange-50/70 backdrop-blur-sm rounded-lg p-4 border border-orange-200/50"
                    >
                      <p
                        class="text-gray-700 leading-relaxed"
                        v-html="faq.answer"
                      ></p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Mode Coop√©ratif -->
      <section
        id="cooperative-mode"
        class="mb-12 relative overflow-hidden rounded-3xl"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">ü§ñ</div>
          <div class="absolute top-16 right-12 text-3xl">ü§ù</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">‚öôÔ∏è</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">üéÆ</div>
        </div>

        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden relative z-10"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                Mode Coop√©ratif
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 text-lg font-medium">
                1-2 Joueurs ‚Ä¢ Unis contre le fant√¥me farceur
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-orange-50/80 to-red-50/80 backdrop-blur-sm rounded-2xl p-8 border border-orange-200/50 shadow-lg"
            >
              <h3 class="text-2xl font-bold text-gray-800 mb-8 text-center">
                üëª L'Histoire : Le Fant√¥me du Four Ancestral
              </h3>

              <div class="space-y-6 text-gray-700">
                <p class="leading-relaxed">
                  La l√©gende raconte qu'un
                  <strong class="text-purple-600">esprit farceur</strong> hante
                  le vieux four de Mamie Madeleine depuis des g√©n√©rations. Ce
                  fant√¥me espi√®gle, surnomm√© "Fourneau le Fac√©tieux", s'amuse √†
                  jouer des tours aux cuisiniers trop s√©rieux. Aujourd'hui, il a
                  d√©cid√© de
                  <strong class="text-red-600">mettre le chaos</strong> dans la
                  pr√©paration du g√¢teau d'anniversaire !
                </p>

                <div
                  class="bg-white/60 rounded-xl p-6 border border-orange-200"
                >
                  <h4 class="font-bold text-lg text-gray-800 mb-4">
                    Votre Mission :
                  </h4>
                  <p class="mb-4">
                    En tant que membres s√©rieux de la famille, vous devez
                    <strong class="text-blue-600">coop√©rer</strong> pour :
                  </p>
                  <ul class="space-y-3">
                    <li class="flex items-start">
                      <span class="text-orange-500 mr-3 text-xl">üéØ</span>
                      <span
                        >D√©jouer les farces du fant√¥me qui tente de faire
                        surchauffer le four magique</span
                      >
                    </li>
                    <li class="flex items-start">
                      <span class="text-orange-500 mr-3 text-xl">üõ°Ô∏è</span>
                      <span
                        >Maintenir le g√¢teau sous contr√¥le malgr√© les sabotages
                        surnaturels</span
                      >
                    </li>
                    <li class="flex items-start">
                      <span class="text-orange-500 mr-3 text-xl">‚è∞</span>
                      <span
                        >R√©ussir √† finir la recette avant que le four n'explose
                        dans un grand BOOM BADABOOM !</span
                      >
                    </li>
                  </ul>
                </div>

                <p class="leading-relaxed text-center italic text-gray-600">
                  Le fant√¥me joue ses cartes contre vous, tentant de saboter
                  chaque √©tape. Saurez-vous apaiser Fourneau le Fac√©tieux et
                  offrir √† Mamie Madeleine le g√¢teau qu'elle m√©rite ?
                </p>

                <!-- Work in Progress -->
                <div
                  class="bg-gradient-to-r from-yellow-100 to-amber-100 rounded-xl p-6 border-2 border-yellow-400 mt-8"
                >
                  <div class="flex items-center justify-center mb-4">
                    <div
                      class="w-16 h-16 bg-yellow-300 rounded-full flex items-center justify-center"
                    >
                      <span class="text-2xl">üöß</span>
                    </div>
                  </div>
                  <h4
                    class="text-xl font-bold text-yellow-800 text-center mb-3"
                  >
                    Work In Progress
                  </h4>
                  <p class="text-yellow-700 text-center">
                    Ce mode est actuellement en d√©veloppement. Les r√®gles
                    d√©taill√©es et les m√©caniques sp√©cifiques seront bient√¥t
                    disponibles. Restez connect√©s pour d√©couvrir cette nouvelle
                    fa√ßon palpitante de jouer √† Boom Badaboom !
                  </p>
                  <div class="flex justify-center mt-4 space-x-2">
                    <div
                      class="w-3 h-3 bg-yellow-400 rounded-full animate-pulse"
                    ></div>
                    <div
                      class="w-3 h-3 bg-yellow-400 rounded-full animate-pulse"
                      style="animation-delay: 0.2s"
                    ></div>
                    <div
                      class="w-3 h-3 bg-yellow-400 rounded-full animate-pulse"
                      style="animation-delay: 0.4s"
                    ></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Remerciements -->
      <section
        id="remerciements"
        class="mb-12 relative overflow-hidden rounded-3xl"
      >
        <div
          class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
        ></div>
        <div class="absolute inset-0 opacity-5">
          <div class="absolute top-8 left-8 text-5xl">üôè</div>
          <div class="absolute top-16 right-12 text-3xl">‚ù§Ô∏è</div>
          <div class="absolute bottom-20 left-1/4 text-4xl">üéâ</div>
          <div class="absolute bottom-12 right-1/3 text-2xl">üëè</div>
        </div>

        <div
          class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden relative z-10"
        >
          <div class="p-6 sm:p-10">
            <div class="text-center mb-10">
              <h2
                class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
              >
                Remerciements
              </h2>
              <div
                class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
              ></div>
              <p class="text-gray-600 text-lg font-medium">
                Merci aux contributeurs qui ont rendu ce jeu possible
              </p>
            </div>

            <div
              class="bg-gradient-to-br from-orange-50/80 to-red-50/80 backdrop-blur-sm rounded-2xl p-8 border border-orange-200/50 shadow-lg"
            >
              <h3 class="text-2xl font-bold text-gray-800 mb-8 text-center">
                Merci aux contributeurs du projet
              </h3>

              <!-- Grille fixe avec taille homog√®ne -->
              <div
                class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6 max-w-4xl mx-auto mb-8"
              >
                <!-- Laura Ruelle -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-yellow-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      LR
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Laura</div>
                      <div>Ruelle</div>
                    </h4>
                  </div>
                </div>

                <!-- Mathieu Lecomte -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      ML
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Mathieu</div>
                      <div>Lecomte</div>
                    </h4>
                  </div>
                </div>

                <!-- Am√©lia Lecomte -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-pink-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      AL
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Am√©lia</div>
                      <div>Lecomte</div>
                    </h4>
                  </div>
                </div>

                <!-- Malone Lecomte -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-green-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      MA
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Malone</div>
                      <div>Lecomte</div>
                    </h4>
                  </div>
                </div>

                <!-- Hugues Ruelle -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-purple-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      HR
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Hugues</div>
                      <div>Ruelle</div>
                    </h4>
                  </div>
                </div>

                <!-- Evelyne Ruelle -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-teal-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      ER
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Evelyne</div>
                      <div>Ruelle</div>
                    </h4>
                  </div>
                </div>

                <!-- Julie Lecomte -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-orange-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      JL
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Julie</div>
                      <div>Lecomte</div>
                    </h4>
                  </div>
                </div>

                <!-- Marie Lecomte -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-red-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      MC
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Marie</div>
                      <div>Lecomte</div>
                    </h4>
                  </div>
                </div>

                <!-- Oscar Verquin -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-indigo-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      OV
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Oscar</div>
                      <div>Verquin</div>
                    </h4>
                  </div>
                </div>

                <!-- Thibaut Debruille -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-cyan-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      TD
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Thibaut</div>
                      <div>Debruille</div>
                    </h4>
                  </div>
                </div>

                <!-- Paulyne Meermans -->
                <div
                  class="bg-white rounded-lg p-4 sm:p-6 shadow-md border border-gray-200 hover:shadow-lg transition-shadow duration-200"
                >
                  <div class="flex flex-col items-center">
                    <div
                      class="w-12 h-12 sm:w-14 sm:h-14 bg-rose-500 rounded-lg flex items-center justify-center text-white font-bold text-base sm:text-lg mb-2 sm:mb-3"
                    >
                      PM
                    </div>
                    <h4
                      class="font-semibold text-gray-800 text-center text-xs sm:text-sm leading-tight"
                    >
                      <div>Paulyne</div>
                      <div>Meermans</div>
                    </h4>
                  </div>
                </div>
              </div>

              <!-- Message de remerciement simple -->
              <div class="text-center">
                <div
                  class="bg-white/70 backdrop-blur-sm rounded-xl p-6 border border-orange-200/50"
                >
                  <p class="text-gray-700 font-medium text-lg mb-3">
                    Leurs retours ont permis d'affiner la recette parfaite de ce
                    jeu
                  </p>
                  <p class="text-orange-600 font-bold text-xl">
                    Merci √† toute l'√©quipe ! üë®‚Äçüç≥üéâ
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Back to top button -->
    <button
      v-show="showBackToTop"
      @click="scrollToTop"
      class="fixed bottom-8 right-8 bg-red-500 hover:bg-red-600 text-white w-12 h-12 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 flex items-center justify-center z-50"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M5 10l7-7m0 0l7 7m-7-7v18"
        ></path>
      </svg>
    </button>

    <!-- Mode Compteur -->
    <div
      v-if="showCounterMode"
      class="fixed inset-0 z-50 bg-black flex items-center justify-center"
    >
      <div class="w-full h-full relative overflow-hidden">
        <!-- Background avec effet color√© design -->
        <div
          class="absolute inset-0 bg-gradient-to-br from-indigo-900 via-purple-900 to-red-900"
        >
          <!-- Effet de grille -->
          <div
            class="absolute inset-0 opacity-20"
            style="
              background-image: radial-gradient(
                circle at 2px 2px,
                rgba(255, 255, 255, 0.15) 1px,
                transparent 0
              );
              background-size: 40px 40px;
            "
          ></div>
          <!-- Cercles d√©coratifs -->
          <div
            class="absolute top-1/4 left-1/4 w-32 h-32 bg-red-500 rounded-full opacity-20 blur-xl animate-pulse"
          ></div>
          <div
            class="absolute bottom-1/4 right-1/4 w-24 h-24 bg-blue-500 rounded-full opacity-30 blur-lg animate-pulse"
            style="animation-delay: 1s"
          ></div>
          <div
            class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-40 h-40 bg-purple-500 rounded-full opacity-10 blur-2xl animate-pulse"
            style="animation-delay: 2s"
          ></div>
        </div>

        <!-- Overlay semi-transparent -->
        <div class="absolute inset-0 bg-black bg-opacity-40"></div>

        <!-- Interface utilisateur -->
        <div class="relative z-10 h-full flex flex-col">
          <!-- Header -->
          <div class="flex flex-col bg-black bg-opacity-70">
            <!-- Ligne principale header -->
            <div class="flex justify-between items-center p-4">
              <!-- Timer et informations centr√©s -->
              <div class="flex-1 text-center">
                <div v-if="elapsedTime" class="text-white text-sm opacity-60">
                  ‚è±Ô∏è {{ elapsedTime }}
                </div>
                <div class="text-white text-sm opacity-70 mt-1">
                  üë• {{ playerCount }} joueur{{ playerCount > 1 ? "s" : "" }}
                </div>
                <div
                  v-if="turnNumber > 0"
                  class="text-white text-xs opacity-50 mt-1"
                >
                  <span
                    v-if="finalCountdownRevealed"
                    class="text-red-300 font-bold"
                    >üö® DERNIER TOUR üö®</span
                  >
                  <span v-else
                    >Tour {{ turnNumber }} |
                    {{
                      eventDeck.length > 0
                        ? eventDeck.length + " √©v√©nements max restants"
                        : "Tous les √©v√©nements r√©v√©l√©s"
                    }}</span
                  >
                </div>
              </div>

              <div class="flex space-x-2">
                <button
                  @click="finalCountdownRevealed ? endGame() : drawNextEvent()"
                  :disabled="
                    gameOver ||
                    (eventDeck.length === 0 && !finalCountdownRevealed)
                  "
                  :class="{
                    'bg-purple-500 hover:bg-purple-600':
                      !gameOver &&
                      eventDeck.length > 0 &&
                      !finalCountdownRevealed,
                    'bg-red-500 hover:bg-red-600':
                      !gameOver && finalCountdownRevealed,
                    'bg-gray-600 opacity-50 cursor-not-allowed':
                      gameOver ||
                      (eventDeck.length === 0 && !finalCountdownRevealed),
                  }"
                  class="text-white px-2 sm:px-3 py-2 rounded-lg font-bold transition-colors text-xs sm:text-sm flex items-center space-x-1"
                >
                  <span>üé≤</span>
                  <span class="hidden xs:inline sm:inline">
                    {{
                      finalCountdownRevealed
                        ? "Fin de partie"
                        : eventDeck.length > 0
                        ? "Nouveau Tour"
                        : "Plus d'√©v√©nements"
                    }}
                  </span>
                </button>
                <button
                  @click="showHistoryModal = true"
                  class="bg-gray-700 hover:bg-gray-800 text-white px-2 sm:px-3 py-2 rounded-lg font-bold transition-colors text-xs sm:text-sm flex items-center space-x-1"
                >
                  <span>üìã</span>
                  <span class="hidden xs:inline sm:inline">Historique</span>
                </button>
                <button
                  @click="showCloseConfirmModal = true"
                  class="bg-red-500 hover:bg-red-600 text-white px-3 py-2 rounded-lg font-bold transition-colors"
                >
                  ‚úï
                </button>
              </div>
            </div>
          </div>

          <!-- Bandeau des valeurs (l√©gende) -->
          <div
            class="flex justify-center items-center gap-4 sm:gap-6 px-4 py-2 bg-black bg-opacity-50 border-b border-gray-700"
          >
            <!-- Taille du g√¢teau -->
            <div class="flex items-center gap-2">
              <span class="text-white text-xs sm:text-sm opacity-70">
                <span class="md:hidden">üéÇ G√¢teau:</span>
                <span class="hidden md:inline">üéÇ Taille du g√¢teau:</span>
              </span>
              <span
                class="text-white font-bold text-sm sm:text-base px-2 py-1 rounded"
                :class="{
                  'bg-blue-600': counterValue < thresholdValue - 3,
                  'bg-orange-600':
                    counterValue >= thresholdValue - 3 &&
                    counterValue < thresholdValue,
                  'bg-red-600': counterValue >= thresholdValue,
                }"
              >
                {{ counterValue }}
              </span>
            </div>

            <!-- Capacit√© du four -->
            <div class="flex items-center gap-2">
              <span class="text-white text-xs sm:text-sm opacity-70">
                <span class="md:hidden">üî• Four:</span>
                <span class="hidden md:inline">üî• Capacit√© du four:</span>
              </span>
              <span
                class="text-white font-bold text-sm sm:text-base bg-red-600 px-2 py-1 rounded"
              >
                {{ thresholdValue }}
              </span>
            </div>
          </div>

          <!-- Zone principale avec pions -->
          <div class="flex-1 relative">
            <!-- Ligne principale am√©lior√©e avec effet 3D -->
            <div
              class="absolute h-3 rounded-full bg-gradient-to-b from-gray-600 via-gray-700 to-gray-800 shadow-inner transition-all duration-300"
              :style="{
                left: '10%',
                right: '10%',
                top: '50%',
                transform: 'translateY(-50%)',
              }"
            >
              <!-- Barre de progression avec d√©grad√© -->
              <div
                class="absolute inset-0 h-full rounded-full bg-gradient-to-r from-blue-400 via-yellow-500 to-red-600 opacity-40"
              ></div>
              <!-- Effet de brillance sur le dessus -->
              <div
                class="absolute top-0 left-0 right-0 h-1 rounded-t-full bg-gradient-to-b from-white to-transparent opacity-30"
              ></div>

              <!-- Graduations sur la ligne -->
              <div
                v-for="mark in [0, 5, 10, 15, 20, 25, 30]"
                :key="'mark-' + mark"
                class="absolute"
                :style="{
                  left: `${(mark / 30) * 100}%`,
                  top: '50%',
                  transform: 'translate(-50%, -50%)',
                }"
              >
                <!-- Trait de graduation -->
                <div
                  class="w-0.5 bg-white opacity-50"
                  :class="{
                    'h-4': mark % 10 === 0,
                    'h-3': mark % 10 !== 0,
                  }"
                  :style="{
                    transform: 'translateY(-50%)',
                  }"
                ></div>
                <!-- Chiffre sous la ligne -->
                <div
                  v-if="mark % 5 === 0"
                  class="absolute text-white text-xs opacity-60 font-medium"
                  :style="{
                    top: '12px',
                    left: '50%',
                    transform: 'translateX(-50%)',
                  }"
                >
                  {{ mark }}
                </div>
              </div>
            </div>

            <!-- Repr√©sentation du Four avec pion capacit√© -->
            <div
              class="absolute transition-all duration-500"
              :style="{
                left: `${getThresholdPosition()}%`,
                top: '50%',
                transform: 'translate(-50%, -50%)',
              }"
            >
              <!-- Version mobile : simple pastille -->
              <div
                class="md:hidden w-10 h-10 rounded-full bg-gradient-to-br from-red-400 via-red-500 to-red-700 border-2 border-white shadow-xl flex items-center justify-center"
              >
                <div class="text-white text-sm font-black drop-shadow-lg">
                  {{ thresholdValue }}
                </div>
              </div>

              <!-- Version desktop : four complet -->
              <div class="hidden md:block">
                <!-- Corps du four - forme de four vintage -->
                <div
                  class="relative w-24 h-28 rounded-t-lg bg-gradient-to-br from-gray-700 via-gray-800 to-gray-900 border-3 border-gray-600 shadow-2xl"
                  :style="{
                    filter: 'drop-shadow(0 0 15px rgba(239, 68, 68, 0.5))',
                  }"
                >
                  <!-- Porte du four (fen√™tre) -->
                  <div
                    class="absolute top-2 left-1/2 transform -translate-x-1/2 w-16 h-16 rounded-lg bg-gradient-to-br from-red-400 via-red-500 to-red-700 border-2 border-gray-600 shadow-inner flex flex-col items-center justify-center"
                  >
                    <!-- Reflet de la vitre -->
                    <div
                      class="absolute inset-0 rounded-lg bg-gradient-to-br from-white via-transparent to-transparent opacity-20"
                    ></div>

                    <!-- Contenu - Ic√¥ne four + chiffre -->
                    <div
                      class="relative text-white font-bold text-center z-10 flex flex-col items-center"
                    >
                      <div class="text-xl mb-0.5">üî•</div>
                      <div class="text-lg font-black drop-shadow-lg">
                        {{ thresholdValue }}
                      </div>
                    </div>

                    <!-- Effet de chaleur anim√© -->
                    <div
                      class="absolute inset-0 rounded-lg bg-red-500 opacity-30 animate-ping"
                    ></div>
                  </div>

                  <!-- Poign√©e du four -->
                  <div
                    class="absolute bottom-1.5 left-1/2 transform -translate-x-1/2 w-10 h-1.5 rounded-full bg-gray-500 border border-gray-400"
                  ></div>

                  <!-- Boutons de contr√¥le du four -->
                  <div class="absolute top-1.5 right-1.5 flex flex-col gap-0.5">
                    <div
                      class="w-1.5 h-1.5 rounded-full bg-yellow-400 opacity-70"
                    ></div>
                    <div
                      class="w-1.5 h-1.5 rounded-full bg-red-400 opacity-70"
                    ></div>
                  </div>
                </div>

                <!-- Socle du four -->
                <div
                  class="absolute top-full left-1/2 transform -translate-x-1/2 w-28 h-2.5 bg-gradient-to-b from-gray-800 to-gray-900 border border-gray-700 rounded-b-lg"
                ></div>
              </div>
            </div>

            <!-- Pion G√¢teau (bleu) - Design am√©lior√© avec ic√¥ne g√¢teau -->
            <div
              class="absolute rounded-full border-2 md:border-4 border-white shadow-2xl flex items-center justify-center transition-all duration-500 hover:scale-110 hover:shadow-3xl hover:border-yellow-300 cursor-pointer z-10"
              :style="{
                left: `${getCounterPosition()}%`,
                top: '50%',
              }"
              :class="[
                // Taille responsive
                'w-10 h-10 -translate-x-5 -translate-y-5 md:w-24 md:h-24 md:-translate-x-12 md:-translate-y-12',
                // √âtats dynamiques
                {
                  'bg-gradient-to-br from-blue-400 via-blue-500 to-blue-700':
                    counterValue < thresholdValue - 3,
                  'bg-gradient-to-br from-yellow-400 via-orange-500 to-red-600':
                    counterValue >= thresholdValue - 3 &&
                    counterValue < thresholdValue,
                  'bg-gradient-to-br from-red-500 via-red-600 to-red-800':
                    counterValue >= thresholdValue,
                },
              ]"
            >
              <!-- Cercle int√©rieur avec effet de profondeur (desktop seulement) -->
              <div
                class="hidden md:block absolute inset-1 rounded-full opacity-80"
                :class="{
                  'bg-gradient-to-t from-blue-800 to-blue-400':
                    counterValue < thresholdValue - 3,
                  'bg-gradient-to-t from-orange-800 to-yellow-400':
                    counterValue >= thresholdValue - 3 &&
                    counterValue < thresholdValue,
                  'bg-gradient-to-t from-red-900 to-red-500':
                    counterValue >= thresholdValue,
                }"
              ></div>

              <!-- Contenu du pion - Version mobile : juste le chiffre -->
              <div
                class="md:hidden relative text-white font-bold text-center z-10"
              >
                <div class="text-sm font-black drop-shadow-lg">
                  {{ counterValue }}
                </div>
              </div>

              <!-- Contenu du pion - Version desktop : Ic√¥ne g√¢teau + chiffre -->
              <div
                class="hidden md:flex relative text-white font-bold text-center z-10 flex-col items-center"
              >
                <div class="text-xl mb-0.5">
                  {{
                    counterValue < thresholdValue - 3
                      ? "üéÇ"
                      : counterValue >= thresholdValue
                      ? "üí•"
                      : "‚ö†Ô∏è"
                  }}
                </div>
                <div class="text-lg font-black drop-shadow-lg">
                  {{ counterValue }}
                </div>
              </div>

              <!-- Effet de brillance (desktop seulement) -->
              <div
                class="hidden md:block absolute top-2 left-3 w-4 h-4 bg-white bg-opacity-40 rounded-full blur-sm"
              ></div>

              <!-- Pulse ring conditionnel -->
              <div
                v-if="counterValue >= thresholdValue - 3"
                class="absolute inset-0 rounded-full opacity-40 animate-ping"
                :class="{
                  'bg-yellow-500':
                    counterValue >= thresholdValue - 3 &&
                    counterValue < thresholdValue,
                  'bg-red-500': counterValue >= thresholdValue,
                }"
              ></div>

              <!-- Glow effect quand proche du seuil (desktop seulement) -->
              <div
                v-if="counterValue >= thresholdValue - 2"
                class="hidden md:block absolute inset-0 rounded-full"
                :style="{
                  filter:
                    counterValue >= thresholdValue
                      ? 'drop-shadow(0 0 20px rgba(239, 68, 68, 0.8))'
                      : 'drop-shadow(0 0 16px rgba(234, 179, 8, 0.6))',
                }"
              ></div>
            </div>

            <!-- Indicateurs min/max -->
            <div class="absolute bottom-8 left-4 text-white text-xs opacity-75">
              <div class="bg-black bg-opacity-50 px-2 py-1 rounded">MIN: 0</div>
            </div>
            <div
              class="absolute bottom-8 right-4 text-white text-xs opacity-75"
            >
              <div class="bg-black bg-opacity-50 px-2 py-1 rounded">
                MAX: 30
              </div>
            </div>
          </div>

          <!-- Contr√¥les du compteur -->
          <div class="p-4 bg-black bg-opacity-70">
            <!-- √âv√©nement actuel -->
            <div
              v-if="currentEvent && currentEvent.name !== 'Minuteur final'"
              class="mb-4 p-3 bg-purple-900 bg-opacity-50 border border-purple-400 rounded-lg"
            >
              <div class="text-purple-200 text-xs mb-1">
                üé≤ √âv√©nement actuel
              </div>
              <div class="text-yellow-300 font-bold text-sm mb-1">
                {{ currentEvent.name }}
              </div>
              <div
                class="text-white text-xs opacity-90"
                v-html="currentEvent.effect"
              ></div>
            </div>

            <!-- √âv√©nement final -->
            <div
              v-if="currentEvent && currentEvent.name === 'Minuteur final'"
              class="mb-4 p-3 bg-red-900 bg-opacity-70 border-2 border-red-500 rounded-lg"
            >
              <div class="text-red-200 text-xs mb-1">üö® √âv√©nement sp√©cial</div>
              <div class="text-yellow-300 font-bold text-sm mb-1">
                {{ currentEvent.name }}
              </div>
              <div
                class="text-white text-xs font-bold"
                v-html="currentEvent.effect"
              ></div>
            </div>

            <div class="mb-3">
              <h3 class="text-white font-bold mb-2 text-sm md:text-base">
                üéÇ Taille du G√¢teau
              </h3>

              <!-- Boutons compacts sur une ligne -->
              <div class="flex flex-wrap gap-1 md:gap-1 justify-center">
                <!-- Version mobile : seulement -1 et +1 avec valeur au milieu -->
                <template v-if="true">
                  <button
                    @click="adjustCounter(-1)"
                    :disabled="gameOver"
                    :class="{
                      'bg-green-500 hover:bg-green-600': !gameOver,
                      'bg-gray-600 opacity-50 cursor-not-allowed': gameOver,
                    }"
                    class="md:hidden text-white font-bold py-2 px-4 text-base rounded-lg transition-colors active:scale-95"
                  >
                    -1
                  </button>

                  <div
                    class="md:hidden bg-white bg-opacity-20 text-white font-bold py-2 px-3 rounded-lg flex items-center mx-1 text-base"
                  >
                    {{ counterValue }}
                  </div>

                  <button
                    @click="adjustCounter(+1)"
                    :disabled="gameOver"
                    :class="{
                      'bg-red-500 hover:bg-red-600': !gameOver,
                      'bg-gray-600 opacity-50 cursor-not-allowed': gameOver,
                    }"
                    class="md:hidden text-white font-bold py-2 px-4 text-base rounded-lg transition-colors active:scale-95"
                  >
                    +1
                  </button>
                </template>

                <!-- Version desktop : tous les boutons -->
                <template v-if="true">
                  <!-- Boutons de diminution -->
                  <button
                    v-for="delta in [-3, -2, -1]"
                    :key="delta"
                    @click="adjustCounter(delta)"
                    :disabled="gameOver"
                    :class="{
                      'bg-green-500 hover:bg-green-600': !gameOver,
                      'bg-gray-600 opacity-50 cursor-not-allowed': gameOver,
                    }"
                    class="hidden md:inline-block text-white font-bold py-2 px-3 text-sm rounded-lg transition-colors active:scale-95"
                  >
                    {{ delta }}
                  </button>

                  <!-- S√©parateur visuel -->
                  <div class="hidden md:block w-px bg-gray-500 mx-1"></div>

                  <!-- Boutons d'augmentation -->
                  <button
                    v-for="delta in [+1, +2, +3, +4, +5]"
                    :key="delta"
                    @click="adjustCounter(delta)"
                    :disabled="gameOver"
                    :class="{
                      'bg-red-500 hover:bg-red-600': !gameOver,
                      'bg-gray-600 opacity-50 cursor-not-allowed': gameOver,
                    }"
                    class="hidden md:inline-block text-white font-bold py-2 px-3 text-sm rounded-lg transition-colors active:scale-95"
                  >
                    +{{ delta }}
                  </button>
                </template>
              </div>
            </div>

            <!-- Contr√¥les du seuil -->
            <div class="mb-3">
              <h3 class="text-white font-bold mb-2 text-sm md:text-base">
                üî• Capacit√© du Four
              </h3>
              <div class="flex justify-center flex-wrap gap-1 md:gap-1">
                <!-- Version mobile : seulement -1 et +1 -->
                <template v-if="true">
                  <button
                    @click="adjustThreshold(-1)"
                    :disabled="gameOver || thresholdValue - 1 < minThreshold"
                    class="md:hidden bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:opacity-50 text-white font-bold py-2 px-4 text-base rounded-lg transition-colors active:scale-95"
                  >
                    -1
                  </button>

                  <div
                    class="md:hidden bg-white bg-opacity-20 text-white font-bold py-2 px-3 rounded-lg flex items-center mx-1 text-base"
                  >
                    {{ thresholdValue }}
                  </div>

                  <button
                    @click="adjustThreshold(+1)"
                    :disabled="gameOver || thresholdValue + 1 > maxThreshold"
                    class="md:hidden bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:opacity-50 text-white font-bold py-2 px-4 text-base rounded-lg transition-colors active:scale-95"
                  >
                    +1
                  </button>
                </template>

                <!-- Version desktop : tous les boutons -->
                <template v-if="true">
                  <!-- Boutons de diminution -->
                  <button
                    v-for="delta in [-5, -4, -3, -2, -1]"
                    :key="'neg-' + delta"
                    @click="adjustThreshold(delta)"
                    :disabled="
                      gameOver || thresholdValue + delta < minThreshold
                    "
                    class="hidden md:inline-block bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:opacity-50 text-white font-bold py-2 px-3 text-sm rounded-lg transition-colors active:scale-95"
                  >
                    {{ delta }}
                  </button>

                  <div
                    class="hidden md:flex bg-white bg-opacity-20 text-white font-bold py-2 px-4 rounded-lg items-center mx-2 text-sm"
                  >
                    Capacit√©: {{ thresholdValue }}
                  </div>

                  <!-- Boutons d'augmentation -->
                  <button
                    v-for="delta in [+1, +2, +3, +4, +5]"
                    :key="'pos-' + delta"
                    @click="adjustThreshold(delta)"
                    :disabled="
                      gameOver || thresholdValue + delta > maxThreshold
                    "
                    class="hidden md:inline-block bg-orange-500 hover:bg-orange-600 disabled:bg-gray-600 disabled:opacity-50 text-white font-bold py-2 px-3 text-sm rounded-lg transition-colors active:scale-95"
                  >
                    +{{ delta }}
                  </button>
                </template>
              </div>
            </div>
          </div>
        </div>

        <!-- Modale Explosion -->
        <div
          v-if="isExplosion && !showEndGameModal"
          class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-85"
        >
          <div
            class="bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-red-500 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"
          >
            <!-- Header -->
            <div
              class="bg-gradient-to-r from-red-600 to-red-700 p-6 text-center"
            >
              <div class="text-4xl mb-4">üí•</div>
              <h3 class="text-2xl font-bold text-white mb-2">üí• Explosion !</h3>
              <p class="text-red-100 text-sm">
                Le g√¢teau a explos√© ! Taille: {{ counterValue }} / Capacit√© du
                four:
                {{ thresholdValue }}
              </p>
            </div>

            <!-- Content -->
            <div class="p-6 space-y-6">
              <!-- Temps de partie -->
              <div
                class="text-center bg-gray-700 rounded-xl p-4 border border-gray-600"
              >
                <div class="text-yellow-400 text-sm font-medium mb-2">
                  ‚è±Ô∏è Temps de partie
                </div>
                <div class="text-white text-2xl font-bold">
                  {{ gameDuration || "Non disponible" }}
                </div>
              </div>

              <!-- R√©sultat de la partie -->
              <div class="bg-gray-700 rounded-xl p-6 border border-gray-600">
                <h4 class="text-xl font-bold text-red-400 mb-4 text-center">
                  üéØ R√©sultat de la Partie
                </h4>

                <div class="text-center">
                  <!-- Farceurs gagnants -->
                  <div
                    class="bg-gradient-to-br from-red-600 to-red-700 rounded-xl p-6 text-center max-w-md mx-auto"
                  >
                    <div class="text-3xl mb-4">ü§°</div>
                    <h5 class="text-xl font-bold text-white mb-4">
                      FARCEURS VICTORIEUX !
                    </h5>
                    <div class="text-red-100 text-sm space-y-2">
                      <div class="font-semibold text-red-200">
                        üèÜ Les Farceurs ont gagn√© !
                      </div>
                      <div>‚Ä¢ Le g√¢teau a explos√©</div>
                      <div>‚Ä¢ Leur mission de chaos est accomplie</div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Boutons -->
              <div class="flex justify-center pt-4">
                <button
                  @click="quitGame"
                  class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors"
                >
                  ‚úï Quitter la partie
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Section Contact -->
    <section id="contact" class="mb-12 relative overflow-hidden rounded-3xl">
      <div
        class="absolute inset-0 bg-gradient-to-br from-amber-50/30 via-orange-50/30 to-red-50/30"
      ></div>
      <div class="absolute inset-0 opacity-5">
        <div class="absolute top-8 left-8 text-5xl">üìß</div>
        <div class="absolute top-16 right-12 text-3xl">üíå</div>
        <div class="absolute bottom-20 left-1/4 text-4xl">üìù</div>
        <div class="absolute bottom-12 right-1/3 text-2xl">‚úâÔ∏è</div>
      </div>

      <div
        class="bg-gradient-to-br from-white via-orange-50/30 to-amber-50/50 rounded-3xl shadow-lg border border-orange-100/50 backdrop-blur-sm overflow-hidden relative z-10"
      >
        <div class="p-6 sm:p-10">
          <div class="text-center mb-10">
            <h2
              class="text-3xl sm:text-5xl font-bold bg-gradient-to-r from-orange-600 via-red-600 to-orange-700 bg-clip-text text-transparent mb-4"
            >
              Contact
            </h2>
            <div
              class="w-24 h-1 bg-gradient-to-r from-orange-500 to-red-500 rounded-full mx-auto mb-4"
            ></div>
            <p class="text-gray-600 text-lg font-medium">
              Une question sur le jeu ? Une suggestion ? Envoyez-nous un message
              !
            </p>
          </div>

          <div
            class="bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl p-8 border-2 border-orange-200/50"
          >
            <form
              method="POST"
              action="https://formspree.io/f/xkgzkgjw"
              class="space-y-6"
              @submit="handleFormSubmit"
            >
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
                <!-- Pr√©nom -->
                <div>
                  <label
                    for="prenom"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Pr√©nom *
                  </label>
                  <input
                    type="text"
                    id="prenom"
                    name="prenom"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors"
                    placeholder="Votre pr√©nom"
                  />
                </div>

                <!-- Nom -->
                <div>
                  <label
                    for="nom"
                    class="block text-sm font-medium text-gray-700 mb-2"
                  >
                    Nom *
                  </label>
                  <input
                    type="text"
                    id="nom"
                    name="nom"
                    required
                    class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors"
                    placeholder="Votre nom"
                  />
                </div>
              </div>

              <!-- Email -->
              <div>
                <label
                  for="email"
                  class="block text-sm font-medium text-gray-700 mb-2"
                >
                  Email *
                </label>
                <input
                  type="email"
                  id="email"
                  name="email"
                  required
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors"
                  placeholder="votre.email@exemple.com"
                />
              </div>

              <!-- Message -->
              <div>
                <label
                  for="message"
                  class="block text-sm font-medium text-gray-700 mb-2"
                >
                  Message *
                </label>
                <textarea
                  id="message"
                  name="message"
                  required
                  rows="5"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent transition-colors resize-none"
                  placeholder="Votre message..."
                ></textarea>
              </div>

              <!-- Bouton d'envoi -->
              <div class="text-center">
                <button
                  type="submit"
                  :disabled="isSubmitting"
                  class="bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-4 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 disabled:scale-100 transition-all duration-300"
                >
                  <span v-if="isSubmitting" class="flex items-center">
                    <svg
                      class="animate-spin -ml-1 mr-3 h-5 w-5 text-white"
                      xmlns="http://www.w3.org/2000/svg"
                      fill="none"
                      viewBox="0 0 24 24"
                    >
                      <circle
                        class="opacity-25"
                        cx="12"
                        cy="12"
                        r="10"
                        stroke="currentColor"
                        stroke-width="4"
                      ></circle>
                      <path
                        class="opacity-75"
                        fill="currentColor"
                        d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                      ></path>
                    </svg>
                    Envoi en cours...
                  </span>
                  <span v-else> üìß Envoyer le message </span>
                </button>
              </div>

              <!-- Message de confirmation -->
              <div
                v-if="submitMessage"
                class="text-center p-4 rounded-lg"
                :class="
                  submitSuccess
                    ? 'bg-green-100 text-green-800'
                    : 'bg-red-100 text-red-800'
                "
              >
                {{ submitMessage }}
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer
      class="bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white text-center py-12 relative overflow-hidden"
    >
      <div class="absolute inset-0 opacity-10">
        <div class="absolute top-4 left-8 text-3xl">üç∞</div>
        <div class="absolute top-8 right-12 text-2xl">üë®‚Äçüç≥</div>
        <div class="absolute bottom-6 left-1/4 text-4xl">üî•</div>
        <div class="absolute bottom-4 right-1/3 text-2xl">üí•</div>
      </div>

      <div class="container mx-auto px-4 sm:px-6 relative z-10">
        <div class="mb-6">
          <h3
            class="text-2xl sm:text-3xl font-bold bg-gradient-to-r from-orange-400 via-red-400 to-orange-500 bg-clip-text text-transparent mb-2"
          >
            Boom Badaboom
          </h3>
          <p class="text-lg font-semibold text-orange-300 mb-3">
            Chaos en Cuisine
          </p>
          <div
            class="w-16 h-1 bg-gradient-to-r from-orange-400 to-red-400 rounded-full mx-auto mb-4"
          ></div>
        </div>

        <p class="text-gray-300 text-base leading-relaxed max-w-md mx-auto">
          Jeu de cartes √† r√¥les cach√©s dans l'univers culinaire
        </p>
        <p class="text-gray-400 text-sm mt-2">Bluff ‚Ä¢ Tension ‚Ä¢ Strat√©gie</p>

        <div class="mt-8 pt-6 border-t border-gray-700">
          <!-- Logo de la maison d'√©dition -->
          <div class="mb-4 text-center">
            <p class="text-gray-400 text-xs mb-2">√âdit√© par</p>
            <div class="inline-block bg-white/90 rounded-lg px-4 py-2">
              <img
                src="/LaRuelleAuxJeuxLogo.png"
                alt="La Ruelle Aux Jeux"
                class="h-10 transition-transform duration-300 hover:scale-105"
              />
            </div>
          </div>
          <p class="text-gray-500 text-sm">
            ¬© {{ getCurrentYear() }} La Ruelle Aux Jeux - Cr√©√© avec passion pour
            les amateurs de jeux de soci√©t√©
          </p>
        </div>
      </div>
    </footer>

    <!-- Card Modal -->
    <div
      v-if="showCardModal"
      class="fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-75"
      @click="closeCardModal"
    >
      <div
        class="relative max-w-lg w-full max-h-[90vh] bg-white rounded-2xl shadow-2xl overflow-hidden"
        @click.stop
      >
        <!-- Close button -->
        <button
          @click="closeCardModal"
          class="absolute top-4 right-4 z-10 w-8 h-8 bg-gray-800 text-white rounded-full flex items-center justify-center hover:bg-gray-700 transition-colors"
        >
          ‚úï
        </button>

        <!-- Card image -->
        <div class="p-4 sm:p-6">
          <img
            v-if="selectedCard"
            :src="selectedCard.image"
            :alt="selectedCard.name"
            loading="lazy"
            class="w-full h-auto object-contain rounded-xl shadow-lg"
            @error="handleImageError"
          />
        </div>
      </div>
    </div>

    <!-- Modale Historique -->
    <div
      v-if="showHistoryModal"
      class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75"
      @click="showHistoryModal = false"
    >
      <div
        class="bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-96 overflow-hidden"
        @click.stop
      >
        <div class="p-4 border-b border-gray-200">
          <div class="flex justify-between items-center">
            <h3 class="text-lg font-bold text-gray-800">üìã Historique</h3>
            <button
              @click="showHistoryModal = false"
              class="w-8 h-8 bg-gray-200 hover:bg-gray-300 rounded-full flex items-center justify-center transition-colors"
            >
              ‚úï
            </button>
          </div>
        </div>
        <div class="p-4 max-h-80 overflow-y-auto">
          <div
            v-if="unifiedHistory.length === 0"
            class="text-center text-gray-500 py-8"
          >
            Aucune action enregistr√©e
          </div>
          <div v-else class="space-y-3">
            <div
              v-for="(item, index) in unifiedHistory.slice().reverse()"
              :key="index"
              class="p-3 rounded-lg border"
              :class="{
                'bg-purple-50 border-purple-200': item.type === 'event',
                'bg-blue-50 border-blue-200': item.type === 'counter',
                'bg-orange-50 border-orange-200': item.type === 'threshold',
              }"
            >
              <!-- √âv√©nement -->
              <div v-if="item.type === 'event'">
                <div class="flex items-center justify-between mb-2">
                  <div class="flex items-center space-x-2">
                    <span class="text-purple-600 text-sm font-bold">üé≤</span>
                    <span class="text-sm font-bold text-purple-800">
                      Tour {{ item.turn }}: {{ item.name }}
                    </span>
                  </div>
                  <span class="text-xs text-purple-500">{{
                    item.timestamp
                  }}</span>
                </div>
                <div
                  class="text-xs text-purple-600 ml-6"
                  v-html="item.effect"
                ></div>
              </div>

              <!-- Modification de la taille -->
              <div v-else-if="item.type === 'counter'">
                <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-2">
                    <span class="text-blue-600 text-sm font-bold">üéÇ</span>
                    <span class="text-sm font-medium text-blue-700">
                      Taille {{ item.action }}
                    </span>
                    <span
                      class="text-sm text-blue-600 font-mono bg-blue-100 px-2 py-1 rounded"
                    >
                      {{ item.oldValue }} ‚Üí {{ item.newValue }}
                    </span>
                  </div>
                  <span class="text-xs text-blue-500">{{
                    item.timestamp
                  }}</span>
                </div>
              </div>

              <!-- Modification de la capacit√© -->
              <div v-else-if="item.type === 'threshold'">
                <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-2">
                    <span class="text-orange-600 text-sm font-bold">üî•</span>
                    <span class="text-sm font-medium text-orange-700">
                      {{ item.action }}
                    </span>
                    <span
                      class="text-sm text-orange-600 font-mono bg-orange-100 px-2 py-1 rounded"
                    >
                      {{ item.oldValue }} ‚Üí {{ item.newValue }}
                    </span>
                  </div>
                  <span class="text-xs text-orange-500">{{
                    item.timestamp
                  }}</span>
                </div>
              </div>

              <!-- Initialisation -->
              <div v-else-if="item.type === 'init'">
                <div class="flex items-center justify-between">
                  <div class="flex items-center space-x-2">
                    <span class="text-green-600 text-sm font-bold">üéØ</span>
                    <span class="text-sm font-medium text-green-700">
                      {{ item.action }}
                    </span>
                    <span
                      class="text-sm text-green-600 font-mono bg-green-100 px-2 py-1 rounded"
                    >
                      {{ item.oldValue }} ‚Üí {{ item.newValue }}
                    </span>
                  </div>
                  <span class="text-xs text-green-500">{{
                    item.timestamp
                  }}</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modale √âv√©nement -->
    <div
      v-if="showEventModal && currentEvent"
      class="fixed inset-0 z-[60] flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-80"
      @click="closeEventModal"
    >
      <div
        :class="[
          'bg-gradient-to-br from-purple-900 to-indigo-900 border-2 border-purple-400 rounded-2xl shadow-2xl max-w-lg w-full max-h-[90vh] overflow-y-auto transform',
          { 'animate-pulse': eventModalPulse },
        ]"
        @click.stop
      >
        <div class="p-4 sm:p-6 text-center">
          <div class="text-4xl sm:text-6xl mb-4 sm:mb-4">üé≤</div>
          <h3 class="text-xl sm:text-2xl font-bold text-white mb-2">
            Tour {{ turnNumber }}
          </h3>
          <div
            class="text-base sm:text-lg font-bold text-purple-200 mb-4 sm:mb-4"
          >
            √âv√©nement R√©v√©l√©
          </div>

          <!-- Image de l'√©v√©nement -->
          <div class="mb-4 sm:mb-4">
            <img
              :src="currentEvent.image"
              :alt="currentEvent.name"
              loading="lazy"
              class="w-24 h-32 sm:w-32 sm:h-44 mx-auto object-contain rounded-lg bg-white bg-opacity-10 p-2"
            />
          </div>

          <!-- Nom de l'√©v√©nement -->
          <h4 class="text-lg sm:text-xl font-bold text-yellow-300 mb-2 sm:mb-4">
            {{ currentEvent.name }}
          </h4>

          <!-- Effet de l'√©v√©nement -->
          <div
            class="bg-black bg-opacity-30 rounded-lg p-3 sm:p-4 mb-4 sm:mb-4 text-white text-center text-sm sm:text-base"
            v-html="currentEvent.effect"
          ></div>

          <!-- Instructions pour les joueurs -->
          <div
            class="bg-yellow-900 bg-opacity-50 border border-yellow-600 rounded-lg p-2 sm:p-3 mb-4 sm:mb-4"
          >
            <div class="text-yellow-300 text-xs font-bold mb-1">
              üìã Instructions
            </div>
            <div class="text-yellow-100 text-xs">
              C'est aux joueurs d'appliquer les effets de cet √©v√©nement pendant
              ce tour.
            </div>
          </div>

          <button
            @click="closeEventModal"
            class="bg-purple-500 hover:bg-purple-600 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors w-full text-sm sm:text-base"
          >
            ‚úì Compris
          </button>
        </div>
      </div>
    </div>

    <!-- Modale Instructions de d√©but de partie -->
    <div
      v-if="showGameStartModal"
      class="fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-85"
      @click="closeGameStartModal"
    >
      <div
        class="bg-gradient-to-br from-blue-900 to-purple-900 border-2 border-blue-400 rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto"
        @click.stop
      >
        <div class="p-4 sm:p-6 text-center">
          <div class="text-4xl sm:text-5xl mb-4">üéØ</div>
          <h3 class="text-xl sm:text-2xl font-bold text-white mb-4 sm:mb-4">
            Nouvelle Partie
          </h3>

          <!-- Instructions principales -->
          <div
            class="bg-black bg-opacity-30 rounded-lg p-3 sm:p-4 mb-4 sm:mb-4 text-left"
          >
            <div
              class="text-blue-200 font-bold text-xs sm:text-sm mb-2 sm:mb-4"
            >
              üìã Rappel important :
            </div>
            <div class="text-white text-xs sm:text-sm space-y-1 sm:space-y-2">
              <div class="flex items-start space-x-2">
                <span class="text-yellow-400 font-bold">1.</span>
                <span
                  >Le <strong>premier √©v√©nement</strong> s'affiche
                  automatiquement au d√©marrage de la partie.</span
                >
              </div>
              <div class="flex items-start space-x-2">
                <span class="text-yellow-400 font-bold">2.</span>
                <span
                  >Les <strong>joueurs</strong> sont responsables d'appliquer
                  les effets des √©v√©nements.</span
                >
              </div>
              <div class="flex items-start space-x-2">
                <span class="text-yellow-400 font-bold">3.</span>
                <span
                  >Cliquez "<strong>Nouveau Tour</strong>" pour r√©v√©ler
                  l'√©v√©nement suivant.</span
                >
              </div>
              <div class="flex items-start space-x-2">
                <span class="text-yellow-400 font-bold">4.</span>
                <span
                  >Un √©v√©nement reste actif pendant
                  <strong>tout le tour</strong>.</span
                >
              </div>
              <div class="flex items-start space-x-2">
                <span class="text-yellow-400 font-bold">5.</span>
                <span
                  >Il y a <strong>10 √©v√©nements</strong> au total. Le "Minuteur
                  final" appara√Æt aux tours 8, 9 ou 10.</span
                >
              </div>
            </div>
          </div>

          <!-- Note importante -->
          <div
            class="bg-orange-900 bg-opacity-50 border border-orange-500 rounded-lg p-2 sm:p-3 mb-4 sm:mb-4"
          >
            <div class="text-orange-300 text-xs font-bold mb-1">
              ‚ö†Ô∏è Important
            </div>
            <div class="text-orange-100 text-xs">
              Cette application g√®re la taille du g√¢teau, la capacit√© du four et
              les √©v√©nements. Les joueurs g√®rent cartes et actions !
            </div>
          </div>

          <button
            @click="startGame"
            class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 sm:py-3 px-4 sm:px-6 rounded-lg transition-colors w-full text-sm sm:text-base"
          >
            ‚úì C'est parti !
          </button>
        </div>
      </div>
    </div>

    <!-- Modale Confirmation Fermeture Partie -->
    <div
      v-if="showCloseConfirmModal"
      class="fixed inset-0 z-50 flex items-center justify-center p-2 sm:p-4 bg-black bg-opacity-75"
      @click="cancelCloseGame"
    >
      <div
        class="bg-white rounded-2xl shadow-2xl max-w-sm w-full max-h-[90vh] overflow-y-auto"
        @click.stop
      >
        <div class="p-4 sm:p-6 text-center">
          <div class="text-4xl sm:text-5xl mb-4 sm:mb-4">‚ö†Ô∏è</div>
          <h3 class="text-base sm:text-lg font-bold text-gray-800 mb-4 sm:mb-4">
            Quitter la partie ?
          </h3>
          <p class="text-sm sm:text-base text-gray-600 mb-4 sm:mb-6">
            √ätes-vous s√ªr de vouloir fermer la partie en cours ?
            <strong>Toutes les donn√©es seront perdues.</strong>
          </p>
          <div class="flex space-x-2 sm:space-x-3">
            <button
              @click="cancelCloseGame"
              class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-bold py-2 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors text-sm sm:text-base"
            >
              Annuler
            </button>
            <button
              @click="confirmCloseGame"
              class="flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-2 sm:py-3 px-3 sm:px-4 rounded-lg transition-colors text-sm sm:text-base"
            >
              ‚úï Quitter
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale S√©lection Mode de Jeu -->
  <div
    v-if="showGameModeModal"
    class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75"
    @click="closeGameModeModal"
  >
    <div
      class="bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all duration-300 scale-100"
      @click.stop
    >
      <!-- Header -->
      <div class="bg-gradient-to-r from-red-500 to-pink-500 p-6 text-center">
        <h3 class="text-xl font-bold text-white mb-2">
          üéØ Choisissez votre Mode
        </h3>
        <p class="text-red-100 text-sm">Comment souhaitez-vous jouer ?</p>
      </div>
      <!-- Content -->
      <div class="p-6 space-y-4">
        <!-- Mode R√¥les cach√©s -->
        <button
          @click="selectCompetitiveMode"
          class="w-full group bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"
        >
          <div class="flex items-center justify-between">
            <div class="text-left">
              <div class="font-bold text-lg mb-1">üé≠ Mode R√¥les cach√©s</div>
              <div class="text-red-100 text-sm">
                3-5 joueurs ‚Ä¢ Bluff et d√©duction
              </div>
            </div>
            <div
              class="text-2xl opacity-80 group-hover:opacity-100 transition-opacity"
            >
              ‚öîÔ∏è
            </div>
          </div>
        </button>
        <!-- Mode Coop√©ratif -->
        <button
          @click="selectCooperativeMode"
          class="w-full group bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white rounded-xl p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg"
        >
          <div class="flex items-center justify-between">
            <div class="text-left">
              <div class="font-bold text-lg mb-1">üëª Mode Coop√©ratif</div>
              <div class="text-blue-100 text-sm">
                1-2 joueurs contre Fourneau le Fac√©tieux
              </div>
            </div>
            <div
              class="text-2xl opacity-80 group-hover:opacity-100 transition-opacity"
            >
              ü§ù
            </div>
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Modale S√©lection Difficult√© IA -->
  <div
    v-if="showAIDifficultyModal"
    class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-75"
    @click="closeAIDifficultyModal"
  >
    <div
      class="bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden transform transition-all duration-300 scale-100"
      @click.stop
    >
      <!-- Header -->
      <div class="bg-gradient-to-r from-blue-500 to-indigo-500 p-6 text-center">
        <h3 class="text-xl font-bold text-white mb-2">
          üéØ Choisissez la Difficult√©
        </h3>
        <p class="text-blue-100 text-sm">Affrontez Fourneau le Fac√©tieux</p>
      </div>
      <!-- Content -->
      <div class="p-6 space-y-3">
        <div
          v-for="difficulty in aiDifficultyLevels"
          :key="difficulty.name"
          @click="selectAIDifficulty(difficulty)"
          class="w-full group cursor-pointer rounded-xl p-4 transition-all duration-300 hover:scale-[1.02] hover:shadow-lg border-2 border-transparent hover:border-opacity-50"
          :class="{
            'bg-gradient-to-r from-green-50 to-green-100 hover:from-green-100 hover:to-green-200 hover:border-green-400':
              difficulty.color === 'green',
            'bg-gradient-to-r from-blue-50 to-blue-100 hover:from-blue-100 hover:to-blue-200 hover:border-blue-400':
              difficulty.color === 'blue',
            'bg-gradient-to-r from-orange-50 to-orange-100 hover:from-orange-100 hover:to-orange-200 hover:border-orange-400':
              difficulty.color === 'orange',
            'bg-gradient-to-r from-red-50 to-red-100 hover:from-red-100 hover:to-red-200 hover:border-red-400':
              difficulty.color === 'red',
            'bg-gradient-to-r from-purple-50 to-purple-100 hover:from-purple-100 hover:to-purple-200 hover:border-purple-400':
              difficulty.color === 'purple',
          }"
        >
          <div class="flex items-center justify-between">
            <div class="text-left flex-1">
              <div
                class="font-bold text-lg mb-1"
                :class="{
                  'text-green-800': difficulty.color === 'green',
                  'text-blue-800': difficulty.color === 'blue',
                  'text-orange-800': difficulty.color === 'orange',
                  'text-red-800': difficulty.color === 'red',
                  'text-purple-800': difficulty.color === 'purple',
                }"
              >
                {{ difficulty.name }}
              </div>
              <div
                class="text-sm opacity-80"
                :class="{
                  'text-green-700': difficulty.color === 'green',
                  'text-blue-700': difficulty.color === 'blue',
                  'text-orange-700': difficulty.color === 'orange',
                  'text-red-700': difficulty.color === 'red',
                  'text-purple-700': difficulty.color === 'purple',
                }"
              >
                {{ difficulty.turns }} tours ‚Ä¢ Capacit√© du four
                {{ difficulty.threshold }} ‚Ä¢ Taux de victoire moyen
                {{ difficulty.winRate }}
              </div>
            </div>
            <div
              class="text-xl opacity-70 group-hover:opacity-100 transition-opacity"
              :class="{
                'text-green-600': difficulty.color === 'green',
                'text-blue-600': difficulty.color === 'blue',
                'text-orange-600': difficulty.color === 'orange',
                'text-red-600': difficulty.color === 'red',
                'text-purple-600': difficulty.color === 'purple',
              }"
            >
              üéØ
            </div>
          </div>
        </div>
      </div>

      <!-- Bouton retour -->
      <div class="p-6 pt-0">
        <button
          @click="
            closeAIDifficultyModal();
            openGameModeSelection();
          "
          class="w-full p-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-colors duration-200"
        >
          ‚Üê Retour
        </button>
      </div>
    </div>
  </div>

  <!-- Mode IA Coop√©ratif -->
  <div
    v-if="showAIMode"
    class="fixed inset-0 z-50 bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 flex items-center justify-center"
  >
    <div class="w-full h-full relative overflow-hidden">
      <!-- Background avec effet color√© design -->
      <div
        class="absolute inset-0"
        style="
          background-image: radial-gradient(
              circle at 25% 25%,
              #3b82f6 1px,
              transparent 1px
            ),
            radial-gradient(circle at 75% 75%, #8b5cf6 1px, transparent 1px);
          background-size: 50px 50px;
        "
      ></div>
      <!-- Header -->
      <div
        class="relative z-10 bg-black bg-opacity-30 border-b border-blue-400"
      >
        <div
          class="max-w-4xl mx-auto px-4 py-4 flex justify-between items-center"
        >
          <h1 class="text-2xl font-bold text-white flex items-center gap-3">
            üëª D√©fi contre Fourneau le Fac√©tieux
          </h1>
          <button
            @click="closeAIMode"
            class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-lg font-medium transition-colors"
          >
            ‚úï Fermer
          </button>
        </div>
      </div>
      <!-- Main content -->
      <div class="relative z-10 max-w-4xl mx-auto p-4 h-full overflow-auto">
        <!-- Informations de partie -->
        <div class="mb-6 text-center space-y-4">
          <!-- Difficult√© s√©lectionn√©e -->
          <div
            v-if="selectedDifficulty"
            class="inline-block bg-black bg-opacity-50 text-white px-6 py-4 rounded-2xl shadow-lg border border-blue-400"
          >
            <div class="text-sm opacity-90 mb-1">Difficult√©</div>
            <div class="text-xl font-bold">{{ selectedDifficulty.name }}</div>
            <div class="text-sm opacity-80">
              {{ selectedDifficulty.turns }} tours ‚Ä¢ Capacit√© du four
              {{ selectedDifficulty.threshold }}
            </div>
          </div>
        </div>

        <!-- Placeholder pour le contenu du mode IA -->
        <div
          class="text-center text-white bg-black bg-opacity-30 rounded-xl p-8"
        >
          <div class="text-4xl mb-4">üöß</div>
          <h3 class="text-xl font-bold mb-4">Mode en d√©veloppement</h3>
          <p class="text-blue-200 mb-6">
            Le mode coop√©ratif contre Fourneau le Fac√©tieux sera bient√¥t
            disponible avec toutes les nouvelles r√®gles !
          </p>
          <button
            @click="closeAIMode"
            class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors"
          >
            Retour au menu
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale Fin de Partie -->
  <div
    v-if="showEndGameModal"
    class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-85"
  >
    <div
      class="bg-gradient-to-br from-gray-800 to-gray-900 border-2 border-yellow-400 rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto"
    >
      <!-- Header -->
      <div
        class="bg-gradient-to-r from-yellow-500 to-orange-500 p-6 text-center"
      >
        <div class="text-4xl mb-4">üèÜ</div>
        <h3 class="text-2xl font-bold text-white mb-2">Fin de Partie !</h3>
        <p class="text-yellow-100 text-sm">Le "Minuteur final" a √©t√© r√©v√©l√©</p>
      </div>

      <!-- Content -->
      <div class="p-6 space-y-6">
        <!-- Temps de partie -->
        <div
          class="text-center bg-gray-700 rounded-xl p-4 border border-gray-600"
        >
          <div class="text-yellow-400 text-sm font-medium mb-2">
            ‚è±Ô∏è Temps de partie
          </div>
          <div class="text-white text-2xl font-bold">
            {{ gameDuration || "Non disponible" }}
          </div>
        </div>

        <!-- Conditions de victoire -->
        <div class="bg-gray-700 rounded-xl p-6 border border-gray-600">
          <h4 class="text-xl font-bold text-yellow-400 mb-4 text-center">
            üéØ Conditions de Victoire par R√¥le
          </h4>

          <div class="grid gap-6 md:grid-cols-2">
            <!-- P√¢tissiers -->
            <div
              class="bg-gradient-to-br from-blue-600 to-blue-700 rounded-xl p-4 text-center"
            >
              <div class="text-2xl mb-4">üë©‚Äçüç≥</div>
              <h5 class="text-lg font-bold text-white mb-4">P√ÇTISSIERS</h5>
              <div class="text-blue-100 text-sm space-y-2">
                <div class="font-semibold text-blue-200">
                  Victoire par R√©ussite :
                </div>
                <div>‚Ä¢ Le g√¢teau est parfait (pas d'explosion)</div>
                <div>‚Ä¢ Le Glouton n'a pas vol√© le g√¢teau</div>
              </div>
            </div>

            <!-- Glouton -->
            <div
              class="bg-gradient-to-br from-yellow-600 to-yellow-700 rounded-xl p-4 text-center"
            >
              <div class="text-2xl mb-4">üòã</div>
              <h5 class="text-lg font-bold text-white mb-4">GLOUTON</h5>
              <div class="text-yellow-100 text-sm space-y-2">
                <div class="font-semibold text-yellow-200">
                  Victoire imm√©diate si :
                </div>
                <div>‚Ä¢ √Ä son tour seulement !</div>
                <div>‚Ä¢ Poss√®de au moins 2 cartes objectifs glouton</div>
                <div>‚Ä¢ ET la taille du g√¢teau est entre 15-18</div>
              </div>
            </div>
          </div>

          <div
            class="mt-4 bg-red-900 bg-opacity-50 rounded-lg p-4 border border-red-500"
          >
            <p class="text-red-200 text-sm text-center">
              ‚ö†Ô∏è Les Farceurs ne peuvent plus gagner car le temps est √©coul√©
            </p>
          </div>
        </div>

        <!-- Boutons -->
        <div class="flex justify-center pt-4">
          <button
            @click="quitGame"
            class="bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg transition-colors"
          >
            ‚úï Quitter la partie
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modale S√©lection Nombre de Joueurs -->
  <div
    v-if="showPlayerCountModal"
    class="fixed inset-0 z-50 bg-black bg-opacity-75 flex items-center justify-center p-4"
  >
    <div class="bg-white rounded-2xl shadow-2xl max-w-md w-full p-8">
      <div class="text-center mb-6">
        <div
          class="w-16 h-16 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center"
        >
          <svg
            class="w-8 h-8 text-white"
            fill="none"
            stroke="currentColor"
            viewBox="0 0 24 24"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m3 5.197H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"
            ></path>
          </svg>
        </div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Mode R√¥les cach√©s</h2>
        <p class="text-gray-600">S√©lectionnez le nombre de joueurs</p>
      </div>

      <div class="space-y-3">
        <button
          @click="selectPlayerCount(3)"
          class="w-full p-4 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-between"
        >
          <span>3 Joueurs</span>
          <div class="flex space-x-1">
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
          </div>
        </button>
        <button
          @click="selectPlayerCount(4)"
          class="w-full p-4 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-between"
        >
          <span>4 Joueurs</span>
          <div class="flex space-x-1">
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
          </div>
        </button>
        <button
          @click="selectPlayerCount(5)"
          class="w-full p-4 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white font-semibold rounded-xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 flex items-center justify-between"
        >
          <span>5 Joueurs</span>
          <div class="flex space-x-1">
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
            <div class="w-3 h-3 bg-white rounded-full opacity-80"></div>
          </div>
        </button>
      </div>

      <button
        @click="
          closePlayerCountModal();
          openGameModeSelection();
        "
        class="w-full mt-6 p-3 bg-gray-100 hover:bg-gray-200 text-gray-700 font-medium rounded-xl transition-colors duration-200"
      >
        ‚Üê Retour
      </button>
    </div>
  </div>
</template>

<style scoped>
/* Custom cursor for images */
.cursor-zoom-in {
  cursor: zoom-in;
}

/* Custom sizes for tokens */
.w-18 {
  width: 4.5rem;
}
.h-18 {
  height: 4.5rem;
}
.shadow-3xl {
  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25),
    0 0 30px rgba(0, 0, 0, 0.15);
}

/* Modal scroll improvements for mobile */
.max-h-\[90vh\] {
  max-height: 90vh;
}

@media (max-height: 600px) {
  .max-h-\[90vh\] {
    max-height: 95vh;
  }
}

/* Custom arrow border sizes */
.border-l-3 {
  border-left-width: 6px;
}
.border-r-3 {
  border-right-width: 6px;
}
.border-t-5 {
  border-top-width: 8px;
}

/* Enhanced glow effects */
.token-glow-blue {
  filter: drop-shadow(0 0 15px rgba(59, 130, 246, 0.7));
}
.token-glow-yellow {
  filter: drop-shadow(0 0 18px rgba(234, 179, 8, 0.8));
}
.token-glow-red {
  filter: drop-shadow(0 0 25px rgba(239, 68, 68, 0.9));
}
</style>

<script setup>
import { ref, onMounted, onUnmounted } from "vue";
import { Analytics } from "@vercel/analytics/vue";

// Import composables
const {
  navLinks,
  showBackToTop,
  isMobileMenuOpen,
  scrollToTop,
  toggleMobileMenu,
  closeMobileMenu,
} = useNavigation();

const {
  showCardModal,
  selectedCard,
  openCardModal,
  closeCardModal,
  handleEscape
} = useModal();

const {
  showCounterMode,
  playerCount,
  counterValue,
  thresholdValue,
  counterHistory,
  showExplosion,
  gameOver,
  isExplosion,
  showHistoryModal,
  gameStartTime,
  gameDuration,
  currentTime,
  currentEvent,
  showEventModal,
  showEndGameModal,
  showGameStartModal,
  showCloseConfirmModal,
  showAIMode,
  aiCounterValue,
  aiThresholdValue,
  aiCounterHistory,
  aiTurnNumber,
  aiShowExplosion,
  aiGameOver,
  aiGameStartTime,
  aiGameDuration,
  showAIHistoryModal,
  selectedDifficulty,
  currentAICard,
  showAICardModal,
  showGameModeSelection,
  showPlayerCountModal,
  showAIDifficultyModal,
  elapsedTime,
  unifiedHistory,
  openCounterMode,
  closeCounterMode,
  adjustCounter,
  adjustCounterRandom,
  adjustThreshold,
  adjustThresholdRandom,
  getCounterPosition,
  getThresholdPosition,
  drawNextEvent,
  closeEventModal,
  endGame,
  closeEndGameModal,
  startGame,
  closeGameStartModal,
  quitGame,
  confirmCloseGame,
  cancelCloseGame,
  openGameModeSelection,
  closeGameModeModal,
  selectCompetitiveMode,
  selectCooperativeMode,
  selectPlayerCount,
  closePlayerCountModal,
  selectAIDifficulty,
  closeAIDifficultyModal,
  openAIMode,
  closeAIMode,
  formatDuration,
  aiDifficulties,
} = useGameMode();

// Import JSON data
import actionCards from "~/data/cards/actions.json";
import gameContent from "~/data/game-content.json";
import eventsData from "~/data/events.json";
import faqsData from "~/data/faq.json";

const { setupSteps, gameSteps } = gameContent;
const events = eventsData;
const faqs = faqsData;

// Fonction pour g√©rer les images manquantes
const handleImageError = (event) => {
  event.target.src = "/placeholder-card.png";
  event.target.onerror = null; // √âviter les boucles infinies
};

// Navigation
const navLinks = [
  { id: "concept", label: "Concept" },
  { id: "contenu", label: "Contenu" },
  { id: "mise-en-place", label: "Mise en Place" },
  { id: "deroulement", label: "D√©roulement" },
  { id: "victoire", label: "Victoire" },
  { id: "cartes", label: "Mat√©riel" },
  { id: "faq", label: "FAQ" },
  { id: "cooperative-mode", label: "Mode Coop√©ratif" },
  { id: "remerciements", label: "Remerciements" },
  { id: "contact", label: "Contact" },
];

// Cards data

const actionCards = [
  {
    name: "Coup d'oeil gourmand",
    type: "Action",
    effect:
      "Regardez secr√®tement la main d'un joueur et volez une carte au choix",
    quantity: 3,
    image: "/placeholder-card.png",
  },
  {
    name: "Accident de cuisine",
    type: "Action",
    effect: "Un joueur de votre choix passe compl√®tement son prochain tour",
    quantity: 3,
    image: "/placeholder-card.png",
  },
  {
    name: "Maladresse",
    type: "Action",
    effect:
      "Un joueur de votre choix doit jouer une carte au hasard de sa main",
    quantity: 2,
    image: "/placeholder-card.png",
  },
  {
    name: "Four √©largi",
    type: "Action",
    effect: "Augmentez la capacit√© du four d'une valeur myst√®re",
    quantity: 3,
    image: "/placeholder-card.png",
  },
  {
    name: "Four r√©tr√©ci",
    type: "Action",
    effect: "Diminuez la capacit√© du four d'une valeur myst√®re",
    quantity: 3,
    image: "/placeholder-card.png",
  },
  {
    name: "R√©cup√©ration d'ingr√©dient",
    type: "Action",
    effect: "Reprenez une carte au choix dans la d√©fausse",
    quantity: 4,
    image: "/placeholder-card.png",
  },
  {
    name: "√âchange de Tablier",
    type: "Action",
    effect: "√âchangez votre main avec celle d'un joueur de ton choix",
    quantity: 1,
    image: "/placeholder-card.png",
  },
  {
    name: "Inspection du frigo",
    type: "Action",
    effect: "Regardez les 3 prochaines cartes de la pioche et changez l'ordre",
    quantity: 1,
    image: "/placeholder-card.png",
  },
  {
    name: "Pinc√©e de hasard",
    type: "Action",
    effect:
      "Piochez une carte de valeur al√©atoire et modifiez la taille du g√¢teau : 1 ou 2 = +3 / 3 = 0 / 4 ou 5 = -3",
    quantity: 1,
    image: "/placeholder-card.png",
  },
  {
    name: "Changement de toque",
    type: "Action",
    effect: "√âchangez votre carte R√¥le avec celle face cach√©e",
    quantity: 1,
    image: "/placeholder-card.png",
  },
  {
    name: "Nettoyage complet",
    type: "Action",
    effect: "D√©faussez toutes vos cartes et piochez-en le m√™me nombre",
    quantity: 1,
    image: "/placeholder-card.png",
  },
  {
    name: "Remixage total",
    type: "Action",
    effect:
      "M√©langez toutes les cartes en main avec la d√©fausse. Redistribuez 5 cartes par joueur",
    quantity: 1,
    image: "/placeholder-card.png",
  },
];

// Setup steps
const setupSteps = [
  "<strong>S√©parez les cartes syst√®me du reste</strong> (r√¥les, √©v√©nements, premier joueur)",
  "<strong>S√©lectionnez les cartes selon le nombre de joueurs :</strong><span class='block mt-2'>‚Ä¢ <strong>3 joueurs :</strong> Prenez uniquement les cartes marqu√©es 3+</span><span class='block'>‚Ä¢ <strong>4 joueurs :</strong> Ajoutez les cartes marqu√©es 4+</span><span class='block'>‚Ä¢ <strong>5 joueurs :</strong> Ajoutez aussi les cartes marqu√©es 5+</span><span class='block mt-2'><em>Les indicateurs se trouvent en haut √† droite des cartes</em></span>",
  "<strong>M√©langez toutes les cartes de jeu s√©l√©ctionn√©es</strong>",
  "Chaque joueur re√ßoit <strong>5 cartes</strong>",
  "<strong>Placez le plateau de jeu</strong> au centre de la table <span class='text-blue-600 text-sm'>(<em>Peut √™tre pass√© si vous utilisez l'application</em>)</span>",
  "Placez le jeton <strong>taille du g√¢teau sur le nombre de joueurs</strong> (3, 4 ou 5) et le jeton <strong>capacit√© du four sur 20</strong> <span class='text-blue-600 text-sm'>(<em>Peut √™tre pass√© si vous utilisez l'application</em>)</span>",
  '<strong>D√©signez le premier joueur</strong> et donnez-lui la carte "Premier Joueur" qu\'il place devant lui',
  '<strong>Pr√©parez les √©v√©nements :</strong><span class="block mt-2">‚Ä¢ Piochez 9 cartes √âv√©nement au hasard (hors Minuteur final)</span><span class="block">‚Ä¢ Prenez 2 cartes au hasard de ce paquet + la carte "Minuteur final"</span><span class="block">‚Ä¢ M√©langez ces 3 cartes et placez-les <strong>sous la pile</strong> d\'√©v√©nements</span><span class="block mt-2"><span class="text-blue-600 text-sm">(<em>Peut √™tre pass√© si vous utilisez l\'application</em>)</span></span>',
  "<strong>Distribuez les r√¥les</strong> selon le tableau de r√©partition avec incertitude :<div class='mt-4'></div><div class='bg-gradient-to-r from-yellow-50 to-orange-50 p-3 sm:p-4 rounded-lg border-l-4 border-yellow-400 mb-4'><div class='text-sm text-yellow-800'><strong>üé≠ Principe :</strong> Prenez plus de cartes r√¥les que de joueurs, m√©langez-les et distribuez-en une par joueur. La carte non distribu√©e reste secr√®te, cr√©ant de l'incertitude sur la composition exacte.</div></div><div class='overflow-x-auto -mx-4 sm:mx-0 px-4 sm:px-0'><div class='inline-block min-w-full'><table class='min-w-full border-collapse bg-white shadow-lg rounded-lg overflow-hidden'><thead><tr class='bg-gradient-to-r from-red-500 to-orange-500 text-white'><th class='border border-gray-200 px-2 py-3 sm:px-4 sm:py-3 font-bold text-xs sm:text-sm text-left'>Joueurs</th><th class='border border-gray-200 px-2 py-3 sm:px-4 sm:py-3 font-bold text-xs sm:text-sm text-left'>Cartes</th><th class='border border-gray-200 px-2 py-3 sm:px-4 sm:py-3 font-bold text-xs sm:text-sm text-left'>Composition</th><th class='border border-gray-200 px-2 py-3 sm:px-4 sm:py-3 font-bold text-xs sm:text-sm text-left'>Distribu√©es</th></tr></thead><tbody><tr class='bg-gray-50'><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-bold text-red-600 text-xs sm:text-sm'>3</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>4 cartes</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>1 P√¢tissier + 2 Farceurs + 1 Glouton</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-semibold text-green-600 text-xs sm:text-sm'>3 <span class='text-gray-500 text-xs block sm:inline'>(1 retir√©e)</span></td></tr><tr class='bg-white'><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-bold text-red-600 text-xs sm:text-sm'>4</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>5 cartes</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>2 P√¢tissiers + 2 Farceurs + 1 Glouton</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-semibold text-green-600 text-xs sm:text-sm'>4 <span class='text-gray-500 text-xs block sm:inline'>(1 retir√©e)</span></td></tr><tr class='bg-gray-50'><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-bold text-red-600 text-xs sm:text-sm'>5</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>6 cartes</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 text-xs sm:text-sm'>2 P√¢tissiers + 3 Farceurs + 1 Glouton</td><td class='border border-gray-200 px-2 py-2 sm:px-4 sm:py-3 font-semibold text-green-600 text-xs sm:text-sm'>5 <span class='text-gray-500 text-xs block sm:inline'>(1 retir√©e)</span></td></tr></tbody></table></div></div>",
];

// Game steps
const gameSteps = [
  "<strong>R√©v√©lez un √©v√©nement</strong> (au d√©but du tour du premier joueur uniquement)",
  "<strong>Jouez 1 carte</strong> de votre main",
  "<strong>Appliquez l'effet</strong> de la carte (modification du compteur, action sp√©ciale...)",
  "<strong>Piochez autant de carte que n√©cessaire</strong> pour revenir √† 5 cartes en main (sauf si votre tour est saut√©)",
  "<strong>Fin de manche :</strong> Une fois que tous les joueurs ont jou√©, la carte Premier Joueur passe au joueur de gauche et on d√©voile un nouvel √©v√©nement",
];

// Events
const events = [
  {
    name: "√âchange d'Ingr√©dients",
    effect: "Tous les joueurs passent leur main au joueur √† leur gauche",
    image: "/placeholder-card.png",
  },
  {
    name: "Four en panne",
    effect: "Personne ne pioche √† la fin de son tour ce tour-ci",
    image: "/placeholder-card.png",
  },
  {
    name: "Inventaire surprise",
    effect: "Tous les joueurs r√©v√®lent 1 carte au hasard de leur main",
    image: "/placeholder-card.png",
  },
  {
    name: "Cuisine ouverte",
    effect: "Pendant ce tour, toutes les cartes pioch√©es doivent √™tre r√©v√©l√©es",
    image: "/placeholder-card.png",
  },
  {
    name: "Four d√©r√©gl√©",
    effect:
      "Les effets des cartes influant sur la piste sont invers√©s (les + deviennent des - et les - des +)",
    image: "/placeholder-card.png",
  },
  {
    name: "√âclaboussures",
    effect:
      "Si une carte refroidissement est jou√©e, le joueur d√©voile une carte de la pioche et applique son effet imm√©diatement",
    image: "/placeholder-card.png",
  },
  {
    name: "Double intensit√©",
    effect:
      "Chaque carte chaleur/refroidissement üå°Ô∏è compte double (Coup de Boost interdite ce tour)",
    image: "/placeholder-card.png",
  },
  {
    name: "Maladresse",
    effect:
      "Ce tour, apr√®s avoir jou√© votre carte, d√©faussez imm√©diatement une autre carte de votre main au hasard",
    image: "/placeholder-card.png",
  },
  {
    name: "Panne d'√©lectricit√©",
    effect: "Toutes les cartes actions üîß ‚ö° sont interdites ce tour",
    image: "/placeholder-card.png",
  },
  {
    name: "Service express",
    effect:
      "√Ä son tour, chaque joueur pioche une carte et la joue imm√©diatement",
    image: "/placeholder-card.png",
  },
  {
    name: "Cuisine en d√©sordre",
    effect: "L'ordre de jeu s'inverse pour le reste de ce tour",
    image: "/placeholder-card.png",
  },
  {
    name: "Gonflement progressif",
    effect:
      "√Ä la fin du tour de chaque joueur qui joue, la taille du g√¢teau augmente de 1",
    image: "/placeholder-card.png",
  },
  {
    name: "Ventilation d'urgence",
    effect:
      "Si la taille du g√¢teau est √† plus de 15 √† la fin du tour, retirer 3",
    image: "/placeholder-card.png",
  },
  {
    name: "R√©chauffage automatique",
    effect:
      "Si la taille du g√¢teau est √† moins de 10 √† la fin du tour, ajouter 2",
    image: "/placeholder-card.png",
  },
  {
    name: "Minuteur final",
    effect:
      "Dernier tour ! Chaque joueur joue une derni√®re fois, puis la partie s'arr√™te",
    image: "/placeholder-card.png",
  },
];

// AI difficulty levels
const aiDifficultyLevels = [
  {
    name: "üßÅ Cupcake (Tr√®s facile)",
    turns: 7,
    threshold: 19,
    winRate: "90%",
    color: "green",
  },
  {
    name: "üç∞ G√©noise (Facile)",
    turns: 8,
    threshold: 17,
    winRate: "70%",
    color: "blue",
  },
  {
    name: "üéÇ √âclair (Moyen)",
    turns: 11,
    threshold: 15,
    winRate: "40%",
    color: "orange",
  },
  {
    name: "üçÆ Tarte Tatin (Difficile)",
    turns: 13,
    threshold: 12,
    winRate: "15%",
    color: "red",
  },
  {
    name: "üë®‚Äçüç≥ Pi√®ce Mont√©e (Tr√®s difficile)",
    turns: 15,
    threshold: 10,
    winRate: "5%",
    color: "purple",
  },
];

// FAQs
const faqs = [
  {
    question:
      "Que se passe-t-il si la taille du g√¢teau devrait descendre sous 0 ?",
    answer:
      "<strong>La taille du g√¢teau ne peut jamais descendre sous 0.</strong> Si une carte devait le faire descendre en dessous, il reste √† 0.",
  },
  {
    question: "Puis-je regarder la d√©fausse ?",
    answer:
      '<strong>Non.</strong> Il est interdit de fouiller la d√©fausse. Seule la derni√®re carte pos√©e sur la pile de d√©fausse est visible de tous. Le seul moyen de voir le contenu de la d√©fausse est via une carte Action comme "R√©cup√©ration d‚Äôingr√©dient".',
  },
  {
    question:
      "Que se passe-t-il si je dois jouer une carte mais que ma main est vide ?",
    answer:
      "Si vous n'avez aucune carte en main (situation tr√®s rare), vous passez votre tour et piochez imm√©diatement pour reconstituer votre main.",
  },
  {
    question: "Puis-je jouer plusieurs cartes r√©actives ‚ö° en m√™me temps ?",
    answer:
      '<strong>Non.</strong> Les cartes r√©actives se jouent une par une. Une carte r√©active peut contrer une autre carte r√©active, cr√©ant une "cha√Æne" de r√©actions.',
  },
  {
    question: "Four r√©tr√©ci - R√®gles importantes",
    answer:
      "<span class='block'>‚Ä¢ Cette carte <strong>ne peut jamais</strong> d√©clencher l'explosion</span><span class='block'>‚Ä¢ La nouvelle capacit√© du four doit √™tre <strong>au minimum</strong> √† (taille du g√¢teau actuel + 1)</span><span class='block'>‚Ä¢ Le montant de r√©duction est d√©termin√© par une carte num√©rot√©e tir√©e au hasard</span><span class='block'>‚Ä¢ Si la r√©duction diminuerait la capacit√© du four trop bas, la carte ne peut pas √™tre jou√©e</span>",
  },
  {
    question: "Comment fonctionne la carte Renvoi de spatule ?",
    answer:
      "La carte Renvoi de spatule peut :<span class='block mt-2'>‚Ä¢ <strong>Rediriger une action</strong> dirig√©e contre vous vers son auteur</span><span class='block'>‚Ä¢ <strong>Inverser le signe</strong> d'une carte refroidissement/chaleur (+ devient -, - devient +)</span>",
  },
  {
    question: "Peut-on jouer Coup de boost sur une carte Renvoi de spatule ?",
    answer:
      "<strong>Non.</strong> La carte Coup de boost ne peut pas √™tre jou√©e sur une carte Renvoi de spatule. Le Renvoi de spatule est une carte r√©active sp√©ciale qui ne peut pas √™tre surcharg√©e.",
  },
  {
    question: "Maladresse et cartes objectif",
    answer:
      "Si la carte jou√©e au hasard par Maladresse est une <strong>carte objectif du Glouton</strong> (Cerises confites, Spirale de caramel, Macarons dor√©s, Rosace de chantilly, Bonbons g√©lifi√©s), elle est <strong>d√©fauss√©e sans effet</strong>.",
  },
  {
    question: "Que faire si je ne peux pas ou ne veux pas jouer de carte ?",
    answer:
      "<span class='block mb-2'><strong>Si aucune carte de votre main ne peut √™tre jou√©e :</strong> D√©faussez une carte de votre choix.</span><span class='block'><strong>Si vous pouvez jouer au moins une carte :</strong> Vous √™tes <strong>oblig√©(e) de la jouer</strong>, m√™me si cela ne vous arrange pas strat√©giquement.</span>",
  },
  {
    question: "Comment distribuer les cartes avec Remixage total ?",
    answer:
      "Apr√®s avoir m√©lang√© toutes les cartes des mains et de la d√©fausse :<span class='block mt-2'>‚Ä¢ Distribuez <strong>1 carte √† la fois</strong> en tournant dans le sens des aiguilles d'une montre</span><span class='block'>‚Ä¢ Continuez jusqu'√† ce que chaque joueur ait <strong>5 cartes</strong></span><span class='block'>‚Ä¢ <strong>S'il n'y a pas assez de cartes</strong> dans la pile, distribuez tout de m√™me jusqu'√† √©puisement (certains joueurs peuvent avoir moins de 5 cartes)</span>",
  },
];

// Back to top functionality
const showBackToTop = ref(false);

// Card modal functionality
const selectedCard = ref(null);
const showCardModal = ref(false);

// Mobile menu functionality
const isMobileMenuOpen = ref(false);
// Counter mode functionality
const showCounterMode = ref(false);
const playerCount = ref(3); // Nombre de joueurs (3, 4 ou 5)
const counterValue = ref(0);
const thresholdValue = ref(20);
const minThreshold = ref(10);
const maxThreshold = ref(30);
const counterHistory = ref([]);
const showExplosion = ref(false);
const gameOver = ref(false);
const isExplosion = ref(false);
const showHistoryModal = ref(false);
const gameStartTime = ref(null);
const gameDuration = ref(null);
const currentTime = ref(Date.now());

// Event system
const currentEvent = ref(null);
const eventDeck = ref([]);
const usedEvents = ref([]);
const turnNumber = ref(0);
const showEventModal = ref(false);
const eventModalPulse = ref(false);
const showGameStartModal = ref(false);
const finalCountdownRevealed = ref(false);
const showCloseConfirmModal = ref(false);
const showEndGameModal = ref(false);

// Game mode selection
const showGameModeModal = ref(false);
const showPlayerCountModal = ref(false);

// AI mode functionality
const showAIMode = ref(false);
const showAIDifficultyModal = ref(false);
const aiTurnNumber = ref(0);
const aiCounterValue = ref(0);
const aiThresholdValue = ref(20);
const aiCounterHistory = ref([]);
const aiGameOver = ref(false);
const aiShowExplosion = ref(false);
const aiGameStartTime = ref(null);
const aiGameDuration = ref(null);
const showAIHistoryModal = ref(false);
const selectedDifficulty = ref(null);
const currentAICard = ref(null);
const showAICardModal = ref(false);

// Timer interval reference for cleanup
let timerInterval = null;

// Computed property for current elapsed time
const elapsedTime = computed(() => {
  if (!gameStartTime.value || gameOver.value) return null;
  const elapsed = Math.max(0, currentTime.value - gameStartTime.value);
  return formatDuration(elapsed);
});

// Computed property for unified history (events + counter changes)
const unifiedHistory = computed(() => {
  const allItems = [...usedEvents.value, ...counterHistory.value];

  // Sort by timestamp (convert to comparable format)
  return allItems.sort((a, b) => {
    const timeA = new Date(`1970-01-01 ${a.timestamp}`);
    const timeB = new Date(`1970-01-01 ${b.timestamp}`);
    return timeA - timeB;
  });
});

// Contact form
const isSubmitting = ref(false);
const submitMessage = ref("");
const submitSuccess = ref(false);

const handleScroll = () => {
  showBackToTop.value = window.pageYOffset > 300;
};

const scrollToTop = () => {
  window.scrollTo({
    top: 0,
    behavior: "smooth",
  });
};

// Get current year
const getCurrentYear = () => {
  return new Date().getFullYear();
};

// Card modal functions
const openCardModal = (cardImage, cardName) => {
  // Use placeholder if image doesn't exist
  const imagePath = cardImage || "/placeholder-card.png";
  selectedCard.value = { image: imagePath, name: cardName };
  showCardModal.value = true;
  document.body.style.overflow = "hidden";
};

const closeCardModal = () => {
  showCardModal.value = false;
  selectedCard.value = null;
  document.body.style.overflow = "auto";
};

// Mobile menu functions
const toggleMobileMenu = () => {
  isMobileMenuOpen.value = !isMobileMenuOpen.value;
};

const closeMobileMenu = () => {
  isMobileMenuOpen.value = false;
};

// Counter mode functions
const openCounterMode = () => {
  showCounterMode.value = true;

  // Initialize counter values
  counterValue.value = playerCount.value;
  thresholdValue.value = 20;
  counterHistory.value = [];
  showExplosion.value = false;
  gameOver.value = false;
  isExplosion.value = false;
  gameStartTime.value = null;
  gameDuration.value = null;

  // Initialize event system
  currentEvent.value = null;
  usedEvents.value = [];
  turnNumber.value = 0;
  showEventModal.value = false;
  showGameStartModal.value = true;
  eventModalPulse.value = false;
  finalCountdownRevealed.value = false;
  showCloseConfirmModal.value = false;
  showEndGameModal.value = false;
  initializeEventDeck();

  document.body.style.overflow = "hidden";
  // Timer will start when user clicks "C'est parti!"
};

const closeCounterMode = () => {
  showCounterMode.value = false;
  document.body.style.overflow = "auto";
};

const quitGame = () => {
  // Fermer toutes les modals
  showCounterMode.value = false;
  showEndGameModal.value = false;
  showHistoryModal.value = false;
  showEventModal.value = false;
  showPlayerCountModal.value = false;

  // Remettre √† z√©ro tous les √©tats du jeu
  counterValue.value = playerCount.value;
  thresholdValue.value = 20;
  minThreshold.value = 10;
  maxThreshold.value = 30;
  counterHistory.value = [];
  showExplosion.value = false;
  gameOver.value = false;
  gameStartTime.value = null;
  gameDuration.value = null;

  // Remettre √† z√©ro le syst√®me d'√©v√©nements
  currentEvent.value = null;
  eventDeck.value = [];
  usedEvents.value = [];

  // Restaurer le scroll
  document.body.style.overflow = "auto";
};

const triggerExplosion = () => {
  gameOver.value = true;
  isExplosion.value = true;

  // Calculer la dur√©e de la partie
  if (gameStartTime.value) {
    const duration = Date.now() - gameStartTime.value;
    gameDuration.value = formatDuration(duration);
  }

  // Aller directement √† la modale de fin de partie sans √©cran interm√©diaire
  showExplosion.value = false;
};

const formatDuration = (ms) => {
  // Ensure we never have negative time
  const safeDuration = Math.max(0, ms);
  const seconds = Math.floor(safeDuration / 1000);
  const minutes = Math.floor(seconds / 60);
  const remainingSeconds = seconds % 60;

  if (minutes > 0) {
    return `${minutes}m ${remainingSeconds.toString().padStart(2, "0")}s`;
  }
  return `${remainingSeconds}s`;
};

// Contact form handling
const handleFormSubmit = async (event) => {
  event.preventDefault();
  isSubmitting.value = true;
  submitMessage.value = "";

  try {
    const formData = new FormData(event.target);

    const response = await fetch("https://formspree.io/f/xkgzkgjw", {
      method: "POST",
      body: formData,
      headers: {
        Accept: "application/json",
      },
    });

    if (response.ok) {
      submitSuccess.value = true;
      submitMessage.value =
        "‚úÖ Message envoy√© avec succ√®s ! Nous vous r√©pondrons rapidement.";
      // Reset form
      event.target.reset();
    } else {
      throw new Error("Erreur lors de l'envoi");
    }
  } catch (error) {
    submitSuccess.value = false;
    submitMessage.value =
      "‚ùå Erreur lors de l'envoi. Veuillez r√©essayer plus tard.";
  } finally {
    isSubmitting.value = false;
    // Hide message after 5 seconds
    setTimeout(() => {
      submitMessage.value = "";
    }, 5000);
  }
};

const adjustCounter = (delta) => {
  const newValue = Math.max(0, counterValue.value + delta); // Minimum √† 0

  counterHistory.value.push({
    action: delta > 0 ? `+${delta}` : `${delta}`,
    oldValue: counterValue.value,
    newValue: newValue,
    timestamp: new Date().toLocaleTimeString(),
    type: "counter",
  });
  counterValue.value = newValue;

  // Check for explosion
  if (counterValue.value >= thresholdValue.value) {
    triggerExplosion();
  }
};

const adjustCounterRandom = (type) => {
  let delta;
  if (type === "positive") {
    // Random entre +1 et +5
    delta = Math.floor(Math.random() * 5) + 1;
  } else {
    // Random entre -1 et -5
    delta = -(Math.floor(Math.random() * 5) + 1);
  }
  adjustCounter(delta);
};

const adjustThreshold = (delta) => {
  const newValue = thresholdValue.value + delta;
  if (newValue >= minThreshold.value && newValue <= maxThreshold.value) {
    const oldValue = thresholdValue.value;
    thresholdValue.value = newValue;

    // Enregistrer dans l'historique
    counterHistory.value.push({
      action: delta > 0 ? `Capacit√© +${delta}` : `Capacit√© ${delta}`,
      oldValue: oldValue,
      newValue: newValue,
      timestamp: new Date().toLocaleTimeString(),
      type: "threshold",
    });
  }
};

const adjustThresholdRandom = (type) => {
  let delta;
  if (type === "positive") {
    // Random entre +1 et +5
    delta = Math.floor(Math.random() * 5) + 1;
  } else {
    // Random entre -1 et -5
    delta = -(Math.floor(Math.random() * 5) + 1);
  }
  adjustThreshold(delta);
};

const getCounterPosition = () => {
  // Position du compteur : 0 au bord gauche, 30 au bord droit
  const maxScale = 30;
  const percentage = Math.min((counterValue.value / maxScale) * 100, 100);

  // 0 = 10% (bord gauche), 30 = 90% (bord droit)
  const minLeft = 10; // Position 0 (%)
  const maxLeft = 90; // Position 30 (%)
  return minLeft + (percentage / 100) * (maxLeft - minLeft);
};

const getThresholdPosition = () => {
  // Position du seuil : m√™me √©chelle que le compteur
  const maxScale = 30;
  const percentage = Math.min((thresholdValue.value / maxScale) * 100, 100);

  // 0 = 10% (bord gauche), 30 = 90% (bord droit)
  const minLeft = 10; // Position 0 (%)
  const maxLeft = 90; // Position 30 (%)
  return minLeft + (percentage / 100) * (maxLeft - minLeft);
};

// Handle escape key for modal
const handleEscape = (event) => {
  if (event.key === "Escape") {
    if (showCloseConfirmModal.value) {
      cancelCloseGame();
    } else if (showEndGameModal.value) {
      closeEndGameModal();
    } else if (showAIMode.value) {
      closeAIMode();
    } else if (showAIDifficultyModal.value) {
      closeAIDifficultyModal();
    } else if (showPlayerCountModal.value) {
      closePlayerCountModal();
    } else if (showGameModeModal.value) {
      closeGameModeModal();
    } else if (showCounterMode.value) {
      showCloseConfirmModal.value = true; // Show confirmation instead of direct close
    } else if (showCardModal.value) {
      closeCardModal();
    } else if (showEventModal.value) {
      showEventModal.value = false;
    } else if (showGameStartModal.value) {
      closeGameStartModal();
    }
  }
};

// Event management functions
const initializeEventDeck = () => {
  // Get all events except "Minuteur final"
  const normalEvents = events.filter(
    (event) => event.name !== "Minuteur final"
  );
  const finalEvent = events.find((event) => event.name === "Minuteur final");

  // Shuffle normal events and take 9 (to make 10 total with final event)
  const shuffledEvents = [...normalEvents].sort(() => Math.random() - 0.5);
  const selectedNormalEvents = shuffledEvents.slice(0, 9);

  // Create deck with 10 cards total
  const deck = [...selectedNormalEvents];

  // Insert final event at position 7, 8, or 9 (0-indexed) which corresponds to turns 8, 9, or 10
  const finalPositions = [7, 8, 9]; // Positions 8, 9, 10 in 1-indexed terms
  const finalPosition =
    finalPositions[Math.floor(Math.random() * finalPositions.length)];

  console.log(
    `Carte "Minuteur final" plac√©e √† la position ${finalPosition} (tour ${
      finalPosition + 1
    })`
  );

  // Insert the final event at the chosen position
  deck.splice(finalPosition, 0, finalEvent);

  eventDeck.value = deck;
};

const drawNextEvent = () => {
  if (eventDeck.value.length === 0 || gameOver.value) return;

  turnNumber.value += 1;
  const drawnEvent = eventDeck.value.shift();
  currentEvent.value = drawnEvent;

  // Add timestamp and turn number to the event for history
  const eventWithTimestamp = {
    ...drawnEvent,
    timestamp: new Date().toLocaleTimeString(),
    turn: turnNumber.value,
    type: "event",
  };

  usedEvents.value.push(eventWithTimestamp);
  showEventModal.value = true;
  eventModalPulse.value = true;

  // Check if the final countdown has been revealed
  if (drawnEvent.name === "Minuteur final") {
    finalCountdownRevealed.value = true;
  }

  // Remove pulse effect after 2 seconds
  setTimeout(() => {
    eventModalPulse.value = false;
  }, 2000);
};

const closeEventModal = () => {
  showEventModal.value = false;
};

const endGame = () => {
  // Stop the timer and calculate final duration
  if (gameStartTime.value && !gameOver.value) {
    const now = Date.now();
    const duration = now - gameStartTime.value;
    gameDuration.value = formatDuration(duration);
    gameOver.value = true;
  }
  showEndGameModal.value = true;
};

const closeEndGameModal = () => {
  showEndGameModal.value = false;
};

const startGame = () => {
  showGameStartModal.value = false;
  // Set both times synchronously to ensure they start together
  const now = Date.now();
  gameStartTime.value = now;
  currentTime.value = now;

  // Automatically trigger the first event
  setTimeout(() => {
    drawNextEvent();
  }, 500); // Small delay to ensure modal is closed
};

const closeGameStartModal = () => {
  showGameStartModal.value = false;
  // Don't start timer when just closing the modal
};

const confirmCloseGame = () => {
  showCloseConfirmModal.value = false;
  closeCounterMode();
};

const cancelCloseGame = () => {
  showCloseConfirmModal.value = false;
};

// Game mode selection functions
const openGameModeSelection = () => {
  showGameModeModal.value = true;
  document.body.style.overflow = "hidden";
};
const closeGameModeModal = () => {
  showGameModeModal.value = false;
  document.body.style.overflow = "auto";
};
const selectCompetitiveMode = () => {
  console.log("selectCompetitiveMode called");
  console.log("showPlayerCountModal BEFORE:", showPlayerCountModal.value);
  closeGameModeModal();
  showPlayerCountModal.value = true;
  document.body.style.overflow = "hidden";
  console.log("showPlayerCountModal AFTER:", showPlayerCountModal.value);

  // Force une re-render apr√®s un court d√©lai pour tester
  setTimeout(() => {
    console.log(
      "showPlayerCountModal after timeout:",
      showPlayerCountModal.value
    );
  }, 100);
};
const selectCooperativeMode = () => {
  closeGameModeModal();
  showAIDifficultyModal.value = true;
  document.body.style.overflow = "hidden";
};

// Player count selection functions
const selectPlayerCount = (count) => {
  playerCount.value = count;
  closePlayerCountModal();
  openCounterMode();

  // Ajouter l'initialisation dans l'historique APR√àS l'ouverture du mode
  counterHistory.value.push({
    action: "Initialisation compteur",
    oldValue: 0,
    newValue: count,
    timestamp: new Date().toLocaleTimeString(),
    type: "init",
    icon: "üéØ",
  });
};

const closePlayerCountModal = () => {
  showPlayerCountModal.value = false;
  document.body.style.overflow = "auto";
};

// AI difficulty selection functions
const selectAIDifficulty = (difficulty) => {
  selectedDifficulty.value = difficulty;
  showAIDifficultyModal.value = false;
  document.body.style.overflow = "auto";
  openAIMode();
};
const closeAIDifficultyModal = () => {
  showAIDifficultyModal.value = false;
  document.body.style.overflow = "auto";
};

// AI mode functions
const openAIMode = () => {
  showAIMode.value = true;
  // Initialize AI mode values
  aiCounterValue.value = 0;
  aiThresholdValue.value = selectedDifficulty.value?.threshold || 20;
  aiCounterHistory.value = [];
  aiTurnNumber.value = 0;
  aiShowExplosion.value = false;
  aiGameOver.value = false;
  aiGameStartTime.value = null;
  aiGameDuration.value = null;
  document.body.style.overflow = "hidden";
};
const closeAIMode = () => {
  showAIMode.value = false;
  document.body.style.overflow = "auto";
};

onMounted(() => {
  window.addEventListener("scroll", handleScroll);
  window.addEventListener("keydown", handleEscape);

  // Start timer interval on client side only
  timerInterval = setInterval(() => {
    currentTime.value = Date.now();
  }, 1000);
});

onUnmounted(() => {
  window.removeEventListener("scroll", handleScroll);
  window.removeEventListener("keydown", handleEscape);

  // Clean up timer interval
  if (timerInterval) {
    clearInterval(timerInterval);
    timerInterval = null;
  }
});

// SEO
useHead({
  title: "Boom Badaboom - R√®gles du Jeu | Jeu de cartes √† r√¥les cach√©s",
  meta: [
    {
      name: "description",
      content:
        "D√©couvrez les r√®gles compl√®tes de Boom Badaboom, un jeu de cartes √† r√¥les cach√©s m√™lant bluff, tension et strat√©gie pour 1-5 joueurs.",
    },
    {
      name: "keywords",
      content:
        "Boom Badaboom, jeu de cartes, r√¥les cach√©s, bluff, strat√©gie, r√®gles du jeu",
    },
    { property: "og:title", content: "Boom Badaboom - R√®gles du Jeu" },
    {
      property: "og:description",
      content:
        "Jeu de cartes √† r√¥les cach√©s m√™lant bluff, tension et strat√©gie",
    },
    { property: "og:image", content: "/logo.png" },
    { property: "og:type", content: "website" },
  ],
  link: [
    { rel: "icon", type: "image/svg+xml", href: "/favicon.svg" },
    { rel: "icon", type: "image/png", href: "/logo.png" },
    { rel: "apple-touch-icon", href: "/logo.png" },
    { rel: "shortcut icon", href: "/favicon.ico" },
  ],
});
</script>

<style>
html {
  scroll-behavior: smooth;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

@media print {
  .nav,
  .back-to-top {
    display: none !important;
  }

  .content {
    box-shadow: none !important;
    margin: 0 !important;
  }
}
</style>
